(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8106],{98332:function(e,r,n){"use strict";n.d(r,{Z:function(){return l}});var t=n(67294),i=n(63153),s=n(32025),o=n(85893),a={information:{color:"bg-purple bg-opacity-20 text-high-emphesis",icon:(0,o.jsx)("svg",{width:"33",height:"33",className:"text-low-emphesis",viewBox:"0 0 33 33",xmlns:"http://www.w3.org/2000/svg",path:"currentColor",fill:"currentColor","aria-hidden":"true",children:(0,o.jsx)("path",{d:"M16.5 0C7.40184 0 0 7.40184 0 16.5C0 25.5982 7.40184 33 16.5 33C25.5982 33 33 25.5982 33 16.5C33 7.40184 25.5982 0 16.5 0ZM16.5 25.9909C15.5747 25.9909 14.8245 25.2407 14.8245 24.3154C14.8245 23.39 15.5747 22.6398 16.5 22.6398C17.4253 22.6398 18.1755 23.39 18.1755 24.3154C18.1755 25.2407 17.4253 25.9909 16.5 25.9909ZM18.1755 17.3898C18.1755 18.3152 17.4253 19.0654 16.5 19.0654C15.5747 19.0654 14.8245 18.3152 14.8245 17.3898V8.56534C14.8245 7.63999 15.5747 6.8898 16.5 6.8898C17.4253 6.8898 18.1755 7.63999 18.1755 8.56534V17.3898Z",fill:"#575757"})})},warning:{color:"bg-yellow bg-opacity-25 text-high-emphesis",icon:(0,o.jsx)("svg",{className:"w-5 h-5 text-yellow",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})},error:{color:"bg-red bg-opacity-25 text-high-emphesis",icon:(0,o.jsx)("svg",{className:"w-5 h-5 text-red",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}};function l(e){var r=e.title,n=e.message,l=e.type,d=void 0===l?"warning":l,c=e.className,u=void 0===c?"":c,p=e.showIcon,v=void 0!==p&&p,x=e.dismissable,m=void 0===x||x,f=(0,t.useState)(!0),h=f[0],g=f[1],b=a[d],N=b.color,y=b.icon;return n&&h?(0,o.jsxs)("div",{className:(0,s.AK)("block relative w-full rounded text-sm p-4",h&&"pr-10",N,u),children:[r&&(0,o.jsx)("div",{className:"mb-1 text-2xl font-medium",children:r}),(0,o.jsxs)("div",{className:"flex items-center",children:[v&&(0,o.jsx)("div",{className:"flex-shrink-0",children:y}),(0,o.jsx)("div",{className:v?"ml-3":"ml-0",children:(0,o.jsx)("p",{className:"text-base",children:n})})]}),m&&(0,o.jsx)("div",{className:"absolute top-2 right-2",children:(0,o.jsxs)("button",{type:"button",onClick:function(){return g(!h)},className:"inline-flex opacity-80 hover:opacity-100 focused:opacity-100 rounded p-1.5 text-primary hover:text-high-emphesis focus:text-high-emphesis focus:outline-none focus:ring focus:ring-offset focus:ring-offset-purple focus:ring-purple",children:[(0,o.jsx)("span",{className:"sr-only",children:"Dismiss"}),(0,o.jsx)(i.b0D,{className:"w-5 h-5","aria-hidden":"true"})]})})]}):null}},49127:function(e,r,n){"use strict";n.d(r,{x:function(){return o}});var t=n(67294),i=n(40588),s=n(85893);function o(e){var r=e.fiatValue,n=e.priceImpact,o=(0,t.useMemo)((function(){if(n){if(n.lessThan("0"))return"text-green";var e=(0,i.oX)(n);return e<1?"text-secondary":e<3?"text-yellow":"text-red"}}),[n]);return(0,s.jsxs)("div",{className:"flex justify-end space-x-1 text-xs font-medium text-right text-secondary",children:[r?(0,s.jsxs)(s.Fragment,{children:["\u2248$ ",(0,s.jsx)("div",{className:"cursor-pointer",children:null===r||void 0===r?void 0:r.toSignificant(6,{groupSeparator:","})})]}):"",n?(0,s.jsxs)("span",{className:o,children:[n.multiply(-1).toSignificant(3),"%"]}):null]})}},20651:function(e,r,n){"use strict";n.d(r,{I:function(){return p}});var t=n(4942),i=n(45987),s=n(32025),o=n(67294),a=n(85893),l=["value","onUserInput","placeholder","className"];function d(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function c(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?d(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var u=RegExp("^\\d*(?:\\\\[.])?\\d*$"),p=o.memo((function(e){var r=e.value,n=e.onUserInput,t=e.placeholder,o=e.className,d=void 0===o?"w-0 p-0 text-2xl bg-transparent":o,p=(0,i.Z)(e,l);return(0,a.jsx)("input",c(c({},p),{},{value:r,onChange:function(e){var r;(""===(r=e.target.value.replace(/,/g,"."))||u.test((0,s.hr)(r)))&&n(r)},inputMode:"decimal",title:"Token Amount",autoComplete:"off",autoCorrect:"off",type:"text",pattern:"^[0-9]*[.,]?[0-9]*$",placeholder:t||"0.0",min:0,minLength:1,maxLength:79,spellCheck:"false",className:(0,s.AK)("relative font-bold outline-none border-none flex-auto overflow-hidden overflow-ellipsis placeholder-low-emphesis focus:placeholder-primary",d)}))}));p.displayName="NumericalInput"},80435:function(e,r,n){"use strict";n.d(r,{Z:function(){return u}});var t=n(4942),i=n(45987),s=(n(67294),n(83206)),o=n(32025),a=n(85893),l=["term","search","className","inputProps"];function d(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function c(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?d(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function u(e){var r=e.term,n=e.search,t=e.className,d=void 0===t?"bg-dark-900":t,u=e.inputProps,p=void 0===u?{className:"text-baseline bg-transparent w-full py-3 pl-4 pr-14 rounded w-full bg-transparent focus:outline-none bg-dark-700 rounded focus:ring focus:ring-blue"}:u,v=(0,i.Z)(e,l);return(0,a.jsxs)("div",c(c({className:(0,o.AK)("relative w-full rounded",d)},v),{},{children:[(0,a.jsx)("input",c({className:(0,o.AK)(p.className||"text-baseline py-3 pl-4 pr-14 rounded w-full bg-transparent focus:outline-none"),onChange:function(e){return n(e.target.value)},value:r,placeholder:"Search by name, symbol, address"},p)),(0,a.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-6 pointer-events-none",children:(0,a.jsx)(s.Z,{size:16})})]}))}},5682:function(e,r,n){"use strict";n.d(r,{E:function(){return a}});var t=n(71862),i=n(30380),s=(n(67294),n(85169)),o=n(85893);function a(e){var r,n,a,l,d,c,u,p,v,x,m,f=e.noLiquidity,h=e.price,g=e.currencies,b=e.parsedAmounts,N=e.poolTokenPercentage,y=e.onAdd,j=(0,s.mV)().i18n;return(0,o.jsxs)("div",{className:"p-6 mt-0 -m-6 rounded bg-dark-800",children:[(0,o.jsxs)("div",{className:"grid gap-1",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("div",{className:"text-sm text-high-emphesis",children:j._(j._("Rates"))}),(0,o.jsx)("div",{className:"text-sm font-bold justify-center items-center flex right-align pl-1.5 text-high-emphesis",children:"1 ".concat(null===(r=b[i.gN.CURRENCY_A])||void 0===r?void 0:r.currency.symbol," = ").concat(null===h||void 0===h?void 0:h.toSignificant(4)," ").concat(null===(n=b[i.gN.CURRENCY_B])||void 0===n?void 0:n.currency.symbol)})]}),(0,o.jsx)("div",{className:"flex items-center justify-end",children:(0,o.jsx)("div",{className:"text-sm font-bold justify-center items-center flex right-align pl-1.5 text-high-emphesis",children:"1 ".concat(null===(a=b[i.gN.CURRENCY_B])||void 0===a?void 0:a.currency.symbol," = ").concat(null===h||void 0===h||null===(l=h.invert())||void 0===l?void 0:l.toSignificant(4)," ").concat(null===(d=b[i.gN.CURRENCY_A])||void 0===d?void 0:d.currency.symbol)})})]}),(0,o.jsx)("div",{className:"h-px my-6 bg-gray-700"}),(0,o.jsxs)("div",{className:"grid gap-1 pb-6",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("div",{className:"text-sm text-secondary",children:j._(j._("{0} Deposited",{0:null===(c=g[i.gN.CURRENCY_A])||void 0===c?void 0:c.symbol}))}),(0,o.jsxs)("div",{className:"text-sm font-bold justify-center items-center flex right-align pl-1.5 text-high-emphesis",children:[(0,o.jsx)("div",{children:null===(u=b[i.gN.CURRENCY_A])||void 0===u?void 0:u.toSignificant(6)}),(0,o.jsx)("span",{className:"ml-1",children:null===(p=b[i.gN.CURRENCY_A])||void 0===p?void 0:p.currency.symbol})]})]}),(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("div",{className:"text-sm text-secondary",children:j._(j._("{0} Deposited",{0:null===(v=g[i.gN.CURRENCY_B])||void 0===v?void 0:v.symbol}))}),(0,o.jsxs)("div",{className:"text-sm font-bold justify-center items-center flex right-align pl-1.5 text-high-emphesis",children:[(0,o.jsx)("div",{children:null===(x=b[i.gN.CURRENCY_B])||void 0===x?void 0:x.toSignificant(6)}),(0,o.jsx)("span",{className:"ml-1",children:null===(m=b[i.gN.CURRENCY_B])||void 0===m?void 0:m.currency.symbol})]})]}),(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("div",{className:"text-sm text-secondary",children:j._(j._("Share of Pool:"))}),(0,o.jsxs)("div",{className:"text-sm font-bold justify-center items-center flex right-align pl-1.5 text-high-emphesis",children:[f?"100":null===N||void 0===N?void 0:N.toSignificant(4),"%"]})]})]}),(0,o.jsx)(t.ZP,{color:"gradient",size:"lg",onClick:y,children:f?j._(j._("Create Pool & Supply")):j._(j._("Confirm Supply"))})]})}},42388:function(e,r,n){"use strict";n.d(r,{kG:function(){return t}});var t,i,s=n(15861),o=n(87757),a=n.n(o),l=n(54941),d=n(67294),c=n(84772),u=n(21815),p=n(16441),v=n(31611),x=n(11178),m=n(47083),f=n(10718),h=n(25617),g=n(90849),b=n(68411);!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_APPROVED=1]="NOT_APPROVED",e[e.PENDING=2]="PENDING",e[e.FAILED=3]="FAILED",e[e.APPROVED=4]="APPROVED"}(t||(t={})),function(e){e[e.SUCCESS=0]="SUCCESS",e[e.REJECTED=1]="REJECTED",e[e.FAILED=2]="FAILED",e[e.NOT_READY=3]="NOT_READY"}(i||(i={})),r.ZP=function(){var e=(0,x.a)(),r=e.account,n=e.library,o=e.chainId,N=(0,h.I0)(),y=(0,d.useState)(!1),j=y[0],w=y[1],_=(0,d.useState)(void 0),C=_[0],R=_[1];(0,d.useEffect)((function(){R(void 0)}),[r,o]);var E=o&&c.MO[o],k=(0,g.Fw)(),A=(0,f.B2)(E,r||u.AddressZero),P=(0,b.h7)(),S=(0,d.useMemo)((function(){return E?!A&&k?t.PENDING:A?t.APPROVED:t.NOT_APPROVED:t.UNKNOWN}),[E,A,k]),I=(0,m.rO)(),U=(0,d.useCallback)((0,s.Z)(a().mark((function e(){var s,d,c,u,v;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S===t.NOT_APPROVED){e.next=3;break}return console.error("approve was called unnecessarily"),e.abrupt("return",{outcome:i.NOT_READY});case 3:if(E){e.next=6;break}return console.error("no token"),e.abrupt("return",{outcome:i.NOT_READY});case 6:if(I){e.next=9;break}return console.error("no bentobox contract"),e.abrupt("return",{outcome:i.NOT_READY});case 9:if(r){e.next=12;break}return console.error("no account"),e.abrupt("return",{outcome:i.NOT_READY});case 12:if(n){e.next=15;break}return console.error("no library"),e.abrupt("return",{outcome:i.NOT_READY});case 15:return e.prev=15,e.next=18,(0,l.D)(I,E,r,n,!0,o);case 18:return s=e.sent,d=p.splitSignature(s),c=d.v,u=d.r,v=d.s,e.abrupt("return",{outcome:i.SUCCESS,permit:{account:r,masterContract:E,v:c,r:u,s:v}});case 23:return e.prev=23,e.t0=e.catch(15),e.abrupt("return",{outcome:4001===e.t0.code?i.REJECTED:i.FAILED});case 26:case"end":return e.stop()}}),e,null,[[15,23]])}))),[S,r,n,o,I,E]);return[S,j,C,function(){var e=(0,s.Z)(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j){e.next=7;break}return e.next=3,U();case 3:(n=e.sent).outcome===i.SUCCESS?R(n.permit):n.outcome===i.FAILED&&w(!0),e.next=14;break;case 7:return e.next=9,null===I||void 0===I?void 0:I.setMasterContractApproval(r,E,!0,0,u.HashZero,u.HashZero);case 9:return t=e.sent,N((0,v.ZD)("Approve Kashi")),e.next=13,t.wait();case 13:N((0,v.ZD)(""));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),function(){var e=(0,s.Z)(a().mark((function e(i,s){var d,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=new l.Z(i,r,n,o),S!==t.NOT_APPROVED||!C){e.next=9;break}return d.approve(C),e.next=5,s(d);case 5:e.t0=e.sent,c="Approve Kashi and "+e.t0,e.next=12;break;case 9:return e.next=11,s(d);case 11:c=e.sent;case 12:return e.next=14,d.cook();case 14:if(!(u=e.sent).success){e.next=20;break}return P(u.tx,{summary:c}),R(void 0),e.next=20,u.tx.wait();case 20:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}()]}},6579:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return lr}});var t,i=n(57206),s=n(61885),o=n(52824),a=n(86854),l=n(63801),d=n(15097),c=n(4942),u=n(45987),p=n(32025),v=n(21228),x=n(66223),m=n(67294),f=n(49196),h=n(66311),g=n(85169),b=n(84772),N=n(19485),y=n(41451),j=n(1569),w=n(16682),_=n(21046),C=n(57043),R=n.n(C),E=n(11178),k=n(4788),A=n.n(k);function P(e){var r=(0,s.mi)(),n=(0,s.sd)(),t=(0,s.U$)(),o=(0,m.useMemo)((function(){var e;return e={},(0,c.Z)(e,i.WJ.MASTERCHEF,r),(0,c.Z)(e,i.WJ.MASTERCHEF_V2,n),(0,c.Z)(e,i.WJ.MINICHEF,t),e}),[r,n,t]);return(0,m.useMemo)((function(){return o[e]}),[o,e])}t={},(0,c.Z)(t,b.a_.MAINNET,[i.WJ.MASTERCHEF,i.WJ.MASTERCHEF_V2]),(0,c.Z)(t,b.a_.MATIC,[i.WJ.MINICHEF]);function S(e,r){var n,t=(0,E.a)().account,i=P(e.chef),s=(0,m.useMemo)((function(){if(t)return[String(e.id),String(t)]}),[e,t]),o=null===(n=(0,j.Wk)(s?i:null,"userInfo",s))||void 0===n?void 0:n.result,a=null===o||void 0===o?void 0:o[0],l=a?b.QA.BigInt(a.toString()):void 0;return l?b.ih.fromRawAmount(r,l):void 0}function I(e,r){var n,t,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=(0,E.a)(),a=o.account,l=null===(n=(0,j.Wk)(e||null,"poolLength",void 0,j.DB))||void 0===n||null===(t=n.result)||void 0===t?void 0:t[0],d=(0,m.useMemo)((function(){if(a&&l)return(0,y.Z)(Array(l.toNumber()).keys()).map((function(e){return[String(e),String(a)]}))}),[l,a]),c=(0,j.es)(d?e:null,"pendingSushi",d),u=(0,j.es)(d?e:null,"userInfo",d),p=(0,m.useCallback)((function(){return b.HW[s]===e.address?i.WJ.MASTERCHEF:b.C1[s]===e.address?i.WJ.MASTERCHEF_V2:b.uu[s]===e.address?i.WJ.MINICHEF:void 0}),[s,e]);return(0,m.useMemo)((function(){return c&&u?A()(c,u).map((function(e,r){var n,t;return{id:d[r][0],pendingSushi:(null===(n=e[0].result)||void 0===n?void 0:n[0])||_._Y,amount:(null===(t=e[1].result)||void 0===t?void 0:t[0])||_._Y,chef:p()}})).filter((function(e){var r=e.pendingSushi,n=e.amount;return r&&!r.isZero()||n&&!n.isZero()})):[]}),[d,p,c,u])}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=[I((0,s.mi)(),void 0,e),I((0,s.sd)(),void 0,e),I((0,s.U$)(),void 0,e)],n=r[0],t=r[1],i=r[2];return R()(n,t,i)}var O=n(85460),Z=n(63153),T=n(94471),Y=n(98595),D=n(15861),B=n(87757),F=n.n(B),M=n(2593),q=n(50542),L=n(71862),K=n(63192),H=n(74272),V=n(90573),W=n(7793),J=n(30380),G=n(26168),z=n(68411),Q=n(627),X=n(5682),$=n(69260),ee=n.n($),re=n(134),ne=n(26368),te=n(49127),ie=n(20651),se=n(85893);function oe(e){var r=e.value,n=e.onUserInput,t=e.onMax,i=e.showMaxButton,s=e.currency,o=e.id,a=e.currencyBalance,l=e.fiatValue,d=e.priceImpact,c=e.hideBalance,u=void 0!==c&&c,v=e.hideInput,x=void 0!==v&&v,m=e.hideIcon,f=void 0!==m&&m,h=(0,g.mV)().i18n;return(0,se.jsx)("div",{id:o,className:(0,p.AK)(x?"p-2":"p-3","rounded bg-dark-900"),children:(0,se.jsxs)("div",{className:"flex space-x-3",children:[!f&&(0,se.jsx)("div",{className:"flex",children:s?(0,se.jsx)("div",{className:"flex items-center",children:(0,se.jsx)(ne.Z,{currency:s,size:"54px"})}):(0,se.jsx)("div",{className:"rounded bg-dark-700",style:{maxWidth:54,maxHeight:54},children:(0,se.jsx)("div",{style:{width:54,height:54},children:(0,se.jsx)(ee(),{animationData:re,autoplay:!0,loop:!0})})})}),!x&&(0,se.jsx)("div",{className:"flex flex-grow items-center w-full space-x-3 rounded focus:bg-dark-700 p-3 sm:w-3/5",children:(0,se.jsxs)(se.Fragment,{children:[i&&a&&(0,se.jsx)(L.ZP,{onClick:t,size:"xs",className:"text-xs font-medium bg-transparent border rounded-full hover:bg-primary border-low-emphesis text-secondary whitespace-nowrap",children:h._(h._("Max"))}),(0,se.jsx)(ie.I,{id:"token-amount-input",value:r,onUserInput:function(e){n(e)}}),!u&&s&&a?(0,se.jsxs)("div",{className:"flex flex-col",children:[(0,se.jsxs)("div",{onClick:t,className:"text-xs font-medium text-right cursor-pointer text-low-emphesis",children:[(0,p.ZO)(a,4)," ",null===s||void 0===s?void 0:s.symbol]}),(0,se.jsx)(te.x,{fiatValue:l,priceImpact:d})]}):null]})})]})})}function ae(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function le(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?ae(Object(n),!0).forEach((function(r){(0,c.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var de=new b.gG(50,1e4),ce=function(e){var r,n,t,i,o,l,u,v,f,h,N,j,_,C,R,E,k,A=e.currencyA,P=e.currencyB,S=(0,g.mV)().i18n,I=(0,s.aQ)(),U=I.account,O=I.chainId,Z=I.library,T=O!=b.a_.CELO?(0,m.useState)(!0):(0,m.useState)(!1),Y=(0,a.Z)(T,2),B=Y[0],$=Y[1];O&&B&&A&&(0,b.PT)(A,b.FX[O])&&(A=b.B5[O]),O&&B&&P&&(0,b.PT)(P,b.FX[O])&&(P=b.B5[O]);var ee=(null===(r=A)||void 0===r?void 0:r.isNative)||(null===(n=P)||void 0===n?void 0:n.isNative),re=Boolean(O&&(A&&(0,b.PT)(A,b.FX[O])||P&&(0,b.PT)(P,b.FX[O]))),ne=(0,Q.DG)(),te=(0,a.Z)(ne,1)[0],ie=(0,G.OY)(),ae=ie.independentField,ce=ie.typedValue,ue=ie.otherTypedValue,pe=(0,G.Qw)(null!==(t=A)&&void 0!==t?t:void 0,null!==(i=P)&&void 0!==i?i:void 0),ve=pe.dependentField,xe=pe.currencies,me=pe.currencyBalances,fe=pe.parsedAmounts,he=pe.price,ge=pe.noLiquidity,be=pe.liquidityMinted,Ne=pe.poolTokenPercentage,ye=pe.error,je=(0,G.OA)(ge),we=je.onFieldAInput,_e=je.onFieldBInput,Ce=!ye,Re=(0,m.useState)(!1),Ee=Re[0],ke=Re[1],Ae=(0,m.useState)(!1),Pe=Ae[0],Se=Ae[1],Ie=(0,H.Z)(),Ue=(0,Q.eq)(de),Oe=(0,m.useState)(""),Ze=Oe[0],Te=Oe[1],Ye=(u={},(0,c.Z)(u,ae,ce),(0,c.Z)(u,ve,ge?ue:null!==(o=null===(l=fe[ve])||void 0===l?void 0:l.toSignificant(6))&&void 0!==o?o:""),u),De=[J.gN.CURRENCY_A,J.gN.CURRENCY_B].reduce((function(e,r){return le(le({},e),{},(0,c.Z)({},r,(0,p.iN)(me[r])))}),{}),Be=([J.gN.CURRENCY_A,J.gN.CURRENCY_B].reduce((function(e,r){var n,t;return le(le({},e),{},(0,c.Z)({},r,null===(n=De[r])||void 0===n?void 0:n.equalTo(null!==(t=fe[r])&&void 0!==t?t:"0")))}),{}),(0,s.Ti)()),Fe=(0,s.qL)(fe[J.gN.CURRENCY_A],null===Be||void 0===Be?void 0:Be.address),Me=(0,a.Z)(Fe,2),qe=Me[0],Le=Me[1],Ke=(0,s.qL)(fe[J.gN.CURRENCY_B],null===Be||void 0===Be?void 0:Be.address),He=(0,a.Z)(Ke,2),Ve=He[0],We=He[1],Je=(0,V.N)(null!==(v=fe[J.gN.CURRENCY_A])&&void 0!==v?v:me[J.gN.CURRENCY_A]),Ge=(0,V.N)(null!==(f=fe[J.gN.CURRENCY_B])&&void 0!==f?f:me[J.gN.CURRENCY_B]),ze=(0,z.h7)();function Qe(){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,D.Z)(F().mark((function e(){var r,n,t,i,s,o,a,l,d,u,v,x,m,f,h,g,b,N;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O&&Z&&U&&Be){e.next=2;break}return e.abrupt("return");case 2:if(n=fe[J.gN.CURRENCY_A],t=fe[J.gN.CURRENCY_B],console.log({parsedAmountA:n,parsedAmountB:t,currencyA:A,currencyB:P,deadline:Ie}),n&&t&&A&&P&&Ie){e.next=6;break}return e.abrupt("return");case 6:return r={},(0,c.Z)(r,J.gN.CURRENCY_A,(0,p.uc)(n,ge?w.qN:Ue)[0]),(0,c.Z)(r,J.gN.CURRENCY_B,(0,p.uc)(t,ge?w.qN:Ue)[0]),i=r,A.isNative||P.isNative?(x=P.isNative,s=Be.estimateGas.addLiquidityETH,o=Be.addLiquidityETH,a=[null!==(d=null===(u=x?A:P)||void 0===u||null===(v=u.wrapped)||void 0===v?void 0:v.address)&&void 0!==d?d:"",(x?n:t).quotient.toString(),i[x?J.gN.CURRENCY_A:J.gN.CURRENCY_B].toString(),i[x?J.gN.CURRENCY_B:J.gN.CURRENCY_A].toString(),U,Ie.toHexString()],l=M.O$.from((x?t:n).quotient.toString())):(s=Be.estimateGas.addLiquidity,o=Be.addLiquidity,a=[null!==(m=null===(f=A)||void 0===f||null===(h=f.wrapped)||void 0===h?void 0:h.address)&&void 0!==m?m:"",null!==(g=null===(b=P)||void 0===b||null===(N=b.wrapped)||void 0===N?void 0:N.address)&&void 0!==g?g:"",n.quotient.toString(),t.quotient.toString(),i[J.gN.CURRENCY_A].toString(),i[J.gN.CURRENCY_B].toString(),U,Ie.toHexString()],l=null),Se(!0),e.next=11,s.apply(void 0,(0,y.Z)(a).concat([l?{value:l}:{}])).then((function(e){return o.apply(void 0,(0,y.Z)(a).concat([le(le({},l?{value:l}:{}),{},{gasLimit:(0,p.yC)(e)})])).then((function(e){var r,n,t,i,s,o;Se(!1),ze(e,{summary:S._(S._("Add {0} {1} and {2} {3}",{0:null===(r=fe[J.gN.CURRENCY_A])||void 0===r?void 0:r.toSignificant(3),1:null===(n=xe[J.gN.CURRENCY_A])||void 0===n?void 0:n.symbol,2:null===(t=fe[J.gN.CURRENCY_B])||void 0===t?void 0:t.toSignificant(3),3:null===(i=xe[J.gN.CURRENCY_B])||void 0===i?void 0:i.symbol}))}),Te(e.hash),q.ZP.event({category:"Liquidity",action:"Add",label:[null===(s=xe[J.gN.CURRENCY_A])||void 0===s?void 0:s.symbol,null===(o=xe[J.gN.CURRENCY_B])||void 0===o?void 0:o.symbol].join("/")})}))})).catch((function(e){Se(!1),4001!==(null===e||void 0===e?void 0:e.code)&&console.error(e)}));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $e=(0,m.useCallback)((function(){ke(!1),Ze&&we(""),Te("")}),[we,Ze]),er=function(){var e,r,n,t;return ge?(0,se.jsx)("div",{className:"pb-4",children:(0,se.jsxs)("div",{className:"flex items-center justify-start gap-3",children:[(0,se.jsx)("div",{className:"text-2xl font-bold text-high-emphesis",children:(null===(e=xe[J.gN.CURRENCY_A])||void 0===e?void 0:e.symbol)+"/"+(null===(r=xe[J.gN.CURRENCY_B])||void 0===r?void 0:r.symbol)}),(0,se.jsx)(x.Z,{currency0:A,currency1:P,size:48})]})}):(0,se.jsxs)("div",{className:"pb-4",children:[(0,se.jsxs)("div",{className:"flex items-center justify-start gap-3",children:[(0,se.jsx)("div",{className:"text-xl font-bold md:text-3xl text-high-emphesis",children:null===be||void 0===be?void 0:be.toSignificant(6)}),(0,se.jsx)("div",{className:"grid grid-flow-col gap-2",children:(0,se.jsx)(x.Z,{currency0:A,currency1:P,size:48})})]}),(0,se.jsxs)("div",{className:"text-lg font-medium md:text-2xl text-high-emphesis",children:[null===(n=xe[J.gN.CURRENCY_A])||void 0===n?void 0:n.symbol,"/",null===(t=xe[J.gN.CURRENCY_B])||void 0===t?void 0:t.symbol,"\xa0",S._(S._("Pool Tokens"))]}),(0,se.jsx)("div",{className:"pt-3 text-xs italic text-secondary",children:S._(S._("Output is estimated. If the price changes by more than {0}% your transaction will revert.",{0:Ue.toSignificant(4)}))})]})},rr=function(){return(0,se.jsx)(X.E,{price:he,currencies:xe,parsedAmounts:fe,noLiquidity:ge,onAdd:Qe,poolTokenPercentage:Ne})},nr=S._(S._("Supplying {0} {1} and {2} {3}",{0:null===(h=fe[J.gN.CURRENCY_A])||void 0===h?void 0:h.toSignificant(6),1:null===(N=xe[J.gN.CURRENCY_A])||void 0===N?void 0:N.symbol,2:null===(j=fe[J.gN.CURRENCY_B])||void 0===j?void 0:j.toSignificant(6),3:null===(_=xe[J.gN.CURRENCY_B])||void 0===_?void 0:_.symbol}));return(0,se.jsxs)("div",{children:[(0,se.jsx)(W.ZP,{isOpen:Ee,onDismiss:$e,attemptingTxn:Pe,hash:Ze,content:function(){return(0,se.jsx)(W.pM,{title:ge?S._(S._("You are creating a pool")):S._(S._("You will receive")),onDismiss:$e,topContent:er,bottomContent:rr})},pendingText:nr}),(0,se.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,se.jsx)(oe,{value:Ye[J.gN.CURRENCY_A],currency:A,id:"add-liquidity-input-tokena",showMaxButton:!0,onUserInput:we,onMax:function(){var e,r;we(null!==(e=null===(r=De[J.gN.CURRENCY_A])||void 0===r?void 0:r.toExact())&&void 0!==e?e:"")},currencyBalance:me[J.gN.CURRENCY_A],fiatValue:Je}),(0,se.jsxs)("div",{children:[(0,se.jsx)(oe,{value:Ye[J.gN.CURRENCY_B],currency:P,id:"add-liquidity-input-tokenb",showMaxButton:!0,onUserInput:_e,onMax:function(){var e,r;_e(null!==(e=null===(r=De[J.gN.CURRENCY_B])||void 0===r?void 0:r.toExact())&&void 0!==e?e:"")},currencyBalance:me[J.gN.CURRENCY_B],fiatValue:Ge}),(ee||re)&&O!=b.a_.CELO&&(0,se.jsxs)("a",{className:"cursor-pointer text-baseline text-blue opacity-80 hover:opacity-100 whitespace-nowrap",onClick:function(){return $(!B)},children:[S._(S._("Use"))," ",B&&"W",b.B5[O].symbol]})]}),(0,se.jsx)("div",{children:U?!Ce||qe!==s.UK.NOT_APPROVED&&qe!==s.UK.PENDING&&Ve!==s.UK.NOT_APPROVED&&Ve!==s.UK.PENDING?(0,se.jsx)(L.Kd,{onClick:function(){te?Qe():ke(!0)},disabled:!Ce||Pe,error:!Ce&&!!fe[J.gN.CURRENCY_A]&&!!fe[J.gN.CURRENCY_B],children:null!==ye&&void 0!==ye?ye:S._(S._("Confirm Adding Liquidity"))}):(0,se.jsxs)("div",{className:"flex space-x-4",children:[qe!==s.UK.APPROVED&&(0,se.jsx)(L.ZP,{color:"gradient",size:"lg",onClick:Le,disabled:qe===s.UK.PENDING,style:{width:Ve!==s.UK.APPROVED?"48%":"100%"},children:qe===s.UK.PENDING?(0,se.jsx)(d.Z,{children:S._(S._("Approving {0}",{0:null===(C=xe[J.gN.CURRENCY_A])||void 0===C?void 0:C.symbol}))}):S._(S._("Approve {0}",{0:null===(R=xe[J.gN.CURRENCY_A])||void 0===R?void 0:R.symbol}))}),Ve!==s.UK.APPROVED&&(0,se.jsx)(L.ZP,{color:"gradient",size:"lg",onClick:We,disabled:Ve===s.UK.PENDING,style:{width:qe!==s.UK.APPROVED?"48%":"100%"},children:Ve===s.UK.PENDING?(0,se.jsx)(d.Z,{children:S._(S._("Approving {0}",{0:null===(E=xe[J.gN.CURRENCY_B])||void 0===E?void 0:E.symbol}))}):S._(S._("Approve {0}",{0:null===(k=xe[J.gN.CURRENCY_B])||void 0===k?void 0:k.symbol}))})]}):(0,se.jsx)(K.Z,{size:"lg",color:"blue",className:"w-full"})})]})]})},ue=n(44232),pe=n(68211),ve=n(1025),xe=n(82348),me=n(61896),fe=n(98332),he=n(56785),ge=n(79185),be=new b.gG(5,100),Ne=function(e){var r,n,t,i,o,l,u,v,x,f,h,N,j,w,_,C,R,E,k,A,P,S=e.currencyA,I=e.currencyB,U=(0,g.mV)().i18n,O=(0,s.aQ)(),Z=O.account,T=O.chainId,Y=O.library,B=(0,m.useState)(!1),J=B[0],G=B[1];J&&S&&(0,b.PT)(S,b.FX[T])&&(S=b.B5[T]),J&&I&&(0,b.PT)(I,b.FX[T])&&(I=b.B5[T]);var X=(0,m.useMemo)((function(){var e,r;return[null===(e=S)||void 0===e?void 0:e.wrapped,null===(r=I)||void 0===r?void 0:r.wrapped]}),[S,I]),$=X[0],ee=X[1],re=(0,ve.Xi)(),ie=re.independentField,oe=re.typedValue,ae=(0,ve.Vx)(null!==(r=S)&&void 0!==r?r:void 0,null!==(n=I)&&void 0!==n?n:void 0),le=ae.pair,de=ae.parsedAmounts,ce=ae.error,Ne=ae.userLiquidity,ye=(0,ve.GF)().onUserInput,je=!ce,we=(0,m.useState)(!1),_e=we[0],Ce=we[1],Re=(0,m.useState)(!1),Ee=(Re[0],Re[1],(0,m.useState)(!1)),ke=Ee[0],Ae=Ee[1],Pe=(0,m.useState)(""),Se=Pe[0],Ie=Pe[1],Ue=(0,H.Z)(),Oe=(0,Q.eq)(be),Ze=(x={},(0,c.Z)(x,pe.g.LIQUIDITY_PERCENT,de[pe.g.LIQUIDITY_PERCENT].equalTo("0")?"0":de[pe.g.LIQUIDITY_PERCENT].lessThan(new b.gG("1","100"))?"<1":de[pe.g.LIQUIDITY_PERCENT].toFixed(0)),(0,c.Z)(x,pe.g.LIQUIDITY,ie===pe.g.LIQUIDITY?oe:null!==(t=null===(i=de[pe.g.LIQUIDITY])||void 0===i?void 0:i.toSignificant(6))&&void 0!==t?t:""),(0,c.Z)(x,pe.g.CURRENCY_A,ie===pe.g.CURRENCY_A?oe:null!==(o=null===(l=de[pe.g.CURRENCY_A])||void 0===l?void 0:l.toSignificant(6))&&void 0!==o?o:""),(0,c.Z)(x,pe.g.CURRENCY_B,ie===pe.g.CURRENCY_B?oe:null!==(u=null===(v=de[pe.g.CURRENCY_B])||void 0===v?void 0:v.toSignificant(6))&&void 0!==u?u:""),x),Te=(0,V.N)(de[pe.g.CURRENCY_A]),Ye=(0,V.N)(de[pe.g.CURRENCY_B]),De=(null===(f=de[pe.g.LIQUIDITY_PERCENT])||void 0===f||f.equalTo(new b.gG("1")),(0,s.t0)(null===le||void 0===le||null===(h=le.liquidityToken)||void 0===h?void 0:h.address)),Be=(0,s.Ti)(),Fe=(0,ue.pO)(de[pe.g.LIQUIDITY],null===Be||void 0===Be?void 0:Be.address),Me=Fe.gatherPermitSignature,qe=Fe.signatureData,Le=(0,s.qL)(de[pe.g.LIQUIDITY],null===Be||void 0===Be?void 0:Be.address),Ke=(0,a.Z)(Le,2),He=Ke[0],Ve=Ke[1];function We(){return(We=(0,D.Z)(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(De&&le&&Y&&Ue){e.next=2;break}throw new Error("missing dependencies");case 2:if(de[pe.g.LIQUIDITY]){e.next=5;break}throw new Error("missing liquidity amount");case 5:if(T===b.a_.HARMONY||!Me){e.next=18;break}return e.prev=6,e.next=9,Me();case 9:e.next=16;break;case 11:if(e.prev=11,e.t0=e.catch(6),4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)){e.next=16;break}return e.next=16,Ve();case 16:e.next=20;break;case 18:return e.next=20,Ve();case 20:case"end":return e.stop()}}),e,null,[[6,11]])})))).apply(this,arguments)}var Je=(0,m.useCallback)((function(e,r){return ye(e,r)}),[ye]),Ge=((0,m.useCallback)((function(e){return Je(pe.g.LIQUIDITY,e)}),[Je]),(0,m.useCallback)((function(e){return Je(pe.g.CURRENCY_A,e)}),[Je]),(0,m.useCallback)((function(e){return Je(pe.g.CURRENCY_B,e)}),[Je]),(0,z.h7)());function ze(){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,D.Z)(F().mark((function e(){var r,n,t,i,o,a,l,d,u,v,x,m,f;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T&&Y&&Z&&Ue&&Be){e.next=2;break}throw new Error("missing dependencies");case 2:if(n=de[pe.g.CURRENCY_A],t=de[pe.g.CURRENCY_B],n&&t){e.next=5;break}throw new Error("missing currency amounts");case 5:if(r={},(0,c.Z)(r,pe.g.CURRENCY_A,(0,p.uc)(n,Oe)[0]),(0,c.Z)(r,pe.g.CURRENCY_B,(0,p.uc)(t,Oe)[0]),i=r,S&&I){e.next=8;break}throw new Error("missing tokens");case 8:if(o=de[pe.g.LIQUIDITY]){e.next=11;break}throw new Error("missing liquidity amount");case 11:if(a=I.isNative,l=S.isNative||a,$&&ee){e.next=15;break}throw new Error("could not wrap");case 15:if(He!==s.UK.APPROVED){e.next=19;break}l?(d=["removeLiquidityETH","removeLiquidityETHSupportingFeeOnTransferTokens"],u=[a?$.address:ee.address,o.quotient.toString(),i[a?pe.g.CURRENCY_A:pe.g.CURRENCY_B].toString(),i[a?pe.g.CURRENCY_B:pe.g.CURRENCY_A].toString(),Z,Ue.toHexString()]):(d=["removeLiquidity"],u=[$.address,ee.address,o.quotient.toString(),i[pe.g.CURRENCY_A].toString(),i[pe.g.CURRENCY_B].toString(),Z,Ue.toHexString()]),e.next=24;break;case 19:if(null===qe){e.next=23;break}l?(d=["removeLiquidityETHWithPermit","removeLiquidityETHWithPermitSupportingFeeOnTransferTokens"],u=[a?$.address:ee.address,o.quotient.toString(),i[a?pe.g.CURRENCY_A:pe.g.CURRENCY_B].toString(),i[a?pe.g.CURRENCY_B:pe.g.CURRENCY_A].toString(),Z,qe.deadline,!1,qe.v,qe.r,qe.s]):(d=["removeLiquidityWithPermit"],u=[$.address,ee.address,o.quotient.toString(),i[pe.g.CURRENCY_A].toString(),i[pe.g.CURRENCY_B].toString(),Z,qe.deadline,!1,qe.v,qe.r,qe.s]),e.next=24;break;case 23:throw new Error("Attempting to confirm without approval or a signature. Please contact support.");case 24:return e.next=26,Promise.all(d.map((function(e){var r;return(r=Be.estimateGas)[e].apply(r,(0,y.Z)(u)).then(p.yC).catch((function(r){console.error("estimateGas failed",e,u,r)}))})));case 26:if(v=e.sent,-1!==(x=v.findIndex((function(e){return M.O$.isBigNumber(e)})))){e.next=32;break}console.error("This transaction would fail. Please contact support."),e.next=37;break;case 32:return m=d[x],f=v[x],Ae(!0),e.next=37,Be[m].apply(Be,(0,y.Z)(u).concat([{gasLimit:f}])).then((function(e){var r,n,t,i,s,o;Ae(!1),Ge(e,{summary:U._("Remove {0} {1} and {2} {3}",{0:null===(r=de[pe.g.CURRENCY_A])||void 0===r?void 0:r.toSignificant(3),1:null===(n=S)||void 0===n?void 0:n.symbol,2:null===(t=de[pe.g.CURRENCY_B])||void 0===t?void 0:t.toSignificant(3),3:null===(i=I)||void 0===i?void 0:i.symbol})}),Ie(e.hash),q.ZP.event({category:"Liquidity",action:"Remove",label:[null===(s=S)||void 0===s?void 0:s.symbol,null===(o=I)||void 0===o?void 0:o.symbol].join("/")})})).catch((function(e){Ae(!1),console.error(e)}));case 37:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(){var e,r,n,t;return(0,se.jsxs)("div",{className:"grid gap-4 pt-3 pb-4",children:[(0,se.jsxs)("div",{className:"grid gap-2",children:[(0,se.jsxs)("div",{className:"flex items-center justify-between",children:[(0,se.jsxs)("div",{className:"flex items-center gap-3",children:[(0,se.jsx)(ne.Z,{currency:S,size:48}),(0,se.jsx)("div",{className:"text-2xl font-bold text-high-emphesis",children:null===(e=de[pe.g.CURRENCY_A])||void 0===e?void 0:e.toSignificant(6)})]}),(0,se.jsx)("div",{className:"ml-3 text-2xl font-medium text-high-emphesis",children:null===(r=S)||void 0===r?void 0:r.symbol})]}),(0,se.jsx)("div",{className:"ml-3 mr-3 min-w-[24px]",children:(0,se.jsx)(me.Z,{size:24})}),(0,se.jsxs)("div",{className:"flex items-center justify-between",children:[(0,se.jsxs)("div",{className:"flex items-center gap-3",children:[(0,se.jsx)(ne.Z,{currency:I,size:48}),(0,se.jsx)("div",{className:"text-2xl font-bold text-high-emphesis",children:null===(n=de[pe.g.CURRENCY_B])||void 0===n?void 0:n.toSignificant(6)})]}),(0,se.jsx)("div",{className:"ml-3 text-2xl font-medium text-high-emphesis",children:null===(t=I)||void 0===t?void 0:t.symbol})]})]}),(0,se.jsx)("div",{className:"justify-start text-sm text-secondary",children:U._("Output is estimated. If the price changes by more than {0}% your transaction will revert.",{0:Oe.toSignificant(4)})})]})}function $e(){var e,r,n,t,i,o,a;return(0,se.jsxs)("div",{className:"p-6 mt-0 -m-6 bg-dark-800",children:[le&&(0,se.jsxs)(se.Fragment,{children:[(0,se.jsxs)("div",{className:"grid gap-1",children:[(0,se.jsxs)("div",{className:"flex items-center justify-between",children:[(0,se.jsx)("div",{className:"text-sm text-high-emphesis",children:U._(U._("Rates"))}),(0,se.jsx)("div",{className:"text-sm font-bold justify-center items-center flex right-align pl-1.5 text-high-emphesis",children:"1 ".concat(null===(e=S)||void 0===e?void 0:e.symbol," = ").concat($?le.priceOf($).toSignificant(6):"-"," ").concat(null===(r=I)||void 0===r?void 0:r.symbol)})]}),(0,se.jsx)("div",{className:"flex items-center justify-end",children:(0,se.jsx)("div",{className:"text-sm font-bold justify-center items-center flex right-align pl-1.5 text-high-emphesis",children:"1 ".concat(null===(n=I)||void 0===n?void 0:n.symbol," = ").concat(ee?le.priceOf(ee).toSignificant(6):"-"," ").concat(null===(t=S)||void 0===t?void 0:t.symbol)})})]}),(0,se.jsx)("div",{className:"h-px my-6 bg-gray-700"})]}),(0,se.jsx)("div",{className:"grid gap-1 pb-6",children:(0,se.jsxs)("div",{className:"flex items-center justify-between",children:[(0,se.jsxs)("div",{className:"text-sm text-secondary",children:[null===(i=S)||void 0===i?void 0:i.symbol,"/",null===(o=I)||void 0===o?void 0:o.symbol," ",U._(U._("Burned"))]}),(0,se.jsx)("div",{className:"text-sm font-bold justify-center items-center flex right-align pl-1.5 text-high-emphasis",children:null===(a=de[pe.g.LIQUIDITY])||void 0===a?void 0:a.toSignificant(6)})]})}),(0,se.jsx)(L.ZP,{color:"gradient",size:"lg",disabled:!(He===s.UK.APPROVED||null!==qe),onClick:ze,children:U._(U._("Confirm"))})]})}var er=U._(U._("Removing {0} {1} and {2} {3}",{0:null===(N=de[pe.g.CURRENCY_A])||void 0===N?void 0:N.toSignificant(6),1:null===(j=S)||void 0===j?void 0:j.symbol,2:null===(w=de[pe.g.CURRENCY_B])||void 0===w?void 0:w.toSignificant(6),3:null===(_=I)||void 0===_?void 0:_.symbol})),rr=(0,m.useCallback)((function(e){Je(pe.g.LIQUIDITY_PERCENT,e)}),[Je]),nr=(null===(C=S)||void 0===C?void 0:C.isNative)||(null===(R=I)||void 0===R?void 0:R.isNative),tr=Boolean(T&&b.FX[T]&&((null===(E=S)||void 0===E?void 0:E.equals(b.FX[T]))||(null===(k=I)||void 0===k?void 0:k.equals(b.FX[T])))),ir=(0,m.useCallback)((function(){Ce(!1),Se&&Je(pe.g.LIQUIDITY_PERCENT,"0"),Ie("")}),[Je,Se]),sr=(0,xe.Z)(de[pe.g.LIQUIDITY_PERCENT].toFixed(0),rr),or=(0,a.Z)(sr,2),ar=or[0],lr=or[1];return(0,se.jsxs)("div",{children:[(0,se.jsx)(W.ZP,{isOpen:_e,onDismiss:ir,attemptingTxn:ke,hash:Se||"",content:function(){return(0,se.jsx)(W.pM,{title:U._(U._("You will receive")),onDismiss:ir,topContent:Xe,bottomContent:$e})},pendingText:er}),(0,se.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,se.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,se.jsx)("div",{id:"liquidity-percent",className:"p-5 rounded bg-dark-900",children:(0,se.jsxs)("div",{className:"flex items-center justify-between",children:[(0,se.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,se.jsx)("div",{className:"whitespace-nowrap",children:U._(U._("Amount to Remove"))}),(0,se.jsxs)("div",{className:"flex items-center w-full space-x-1",children:[(0,se.jsx)(ge.I,{className:"token-amount-input",value:ar,onUserInput:function(e){lr(e)},align:"right"}),(0,se.jsx)(he.Z,{className:"text-xl font-bold",children:"%"})]})]}),(0,se.jsx)("div",{className:"flex justify-end space-x-4 sm:w-full",children:["25","50","75","100"].map((function(e,r){return(0,se.jsx)(L.ZP,{variant:"outlined",size:"xs",color:"pink",onClick:function(){lr(e)},className:(0,p.AK)("text-md border border-opacity-50 border-pink focus:ring-pink","100"===e?"":"hidden sm:block"),children:"100"===e?"MAX":e+"%"},r)}))})]})}),(0,se.jsxs)("div",{className:"flex justify-between",children:[(0,se.jsx)("div",{children:U._(U._("You'll Receive:"))}),(nr||tr)&&(0,se.jsxs)("a",{className:"cursor-pointer text-baseline text-blue opacity-80 hover:opacity-100 whitespace-nowrap",onClick:function(){return G(!J)},children:[U._(U._("Receive"))," ",J&&"W",b.B5[T].symbol]})]}),(0,se.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,se.jsxs)("div",{className:"flex items-center justify-between p-4 rounded bg-dark-900",children:[(0,se.jsx)("div",{children:(0,se.jsxs)("div",{className:"text-secondary",children:[Ze[pe.g.CURRENCY_A]||"-"," ",null===(A=S)||void 0===A?void 0:A.symbol,(0,se.jsx)(te.x,{fiatValue:Te})]})}),(0,se.jsx)(ne.Z,{currency:S,size:"46px"})]}),(0,se.jsxs)("div",{className:"flex items-center justify-between p-4 rounded bg-dark-900",children:[(0,se.jsxs)("div",{className:"text-secondary",children:[Ze[pe.g.CURRENCY_B]||"-"," ",null===(P=I)||void 0===P?void 0:P.symbol,(0,se.jsx)(te.x,{fiatValue:Ye})]}),(0,se.jsx)(ne.Z,{currency:I,size:"46px"})]})]})]}),(null===Ne||void 0===Ne?void 0:Ne.equalTo(b.xE))&&(0,se.jsx)(fe.Z,{message:U._(U._("Note: If your SLP is staked, you cannot remove your liquidity. You must unstake first.")),className:"mb-4",type:"information"}),Z?je&&He!==s.UK.APPROVED&&null===qe?(0,se.jsx)(L.ZP,{color:"gradient",size:"lg",onClick:function(){return We.apply(this,arguments)},disabled:He!==s.UK.NOT_APPROVED||null!==qe,children:He===s.UK.PENDING?(0,se.jsx)(d.Z,{children:U._(U._("Approving"))}):U._(U._("Approve"))}):(0,se.jsx)(L.Kd,{onClick:function(){Ce(!0)},disabled:!je||null===qe&&He!==s.UK.APPROVED,error:!je&&!!de[pe.g.CURRENCY_A]&&!!de[pe.g.CURRENCY_B],children:ce||U._(U._("Confirm Withdrawal"))}):(0,se.jsx)(K.Z,{size:"lg",color:"blue",className:"w-full"})]})]})},ye=n(62483),je=function(e){var r=e.farm,n=(0,m.useState)(!0),t=n[0],i=n[1],s=(0,ye.U8)(r.pair.token0.id),o=(0,ye.U8)(r.pair.token1.id);return(0,se.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,se.jsxs)("div",{className:"flex justify-between pb-2",children:[(0,se.jsx)(O.r.Group,{children:(0,se.jsxs)("div",{className:"flex items-center",children:[(0,se.jsx)(O.r,{checked:t,onChange:function(){return i(!t)},className:"".concat(t?"bg-blue border-blue":"bg-pink border-pink"," bg-opacity-60 border border-opacity-80 relative inline-flex items-center h-[32px] rounded-full w-[54px] transition-colors focus:outline-none"),children:(0,se.jsx)("span",{className:"".concat(t?"translate-x-[1px] text-blue":"translate-x-[23px] text-pink"," inline-block w-7 h-7 transform bg-white rounded-full transition-transform"),children:t?(0,se.jsx)(Z.pOD,{}):(0,se.jsx)(Z.V_R,{})})}),(0,se.jsx)(O.r.Label,{className:"ml-3",children:t?T.ag._(T.ag._("Add Liquidity")):T.ag._(T.ag._("Remove Liquidity"))})]})}),(0,se.jsx)(Y.Z,{})]}),t?(0,se.jsx)(ce,{currencyA:s,currencyB:o}):(0,se.jsx)(Ne,{currencyA:s,currencyB:o})]})},we=n(26835),_e=n(18783),Ce=n(11324),Re=n(42388),Ee=function(e){var r=e.pair,n=e.useBento,t=(0,g.mV)().i18n,i=(0,s.aQ)(),o=i.account,l=i.chainId,c=(0,ye.U8)(null===r||void 0===r?void 0:r.asset.address)||void 0,u=(0,_e.BA)(),v=(0,m.useState)(""),x=v[0],f=v[1],h=b.FX[l||1].address===(null===r||void 0===r?void 0:r.asset.address),N=n?null===r||void 0===r?void 0:r.asset.bentoBalance:h?null===u||void 0===u?void 0:u.ethBalance:null===r||void 0===r?void 0:r.asset.balance,y=c&&N&&b.ih.fromRawAmount(h?b.FX[l||1]:c,N),j=y,w=(0,p.eo)(x,c),_=(0,V.N)(null!==w&&void 0!==w?w:y),C=(0,Re.ZP)(),R=(0,a.Z)(C,5),E=R[0],k=R[1],A=R[2],P=R[3],S=R[4],I=(0,s.qL)(w,l&&b.OI[l]),U=(0,a.Z)(I,2),O=U[0],Z=U[1];function T(e){return Y.apply(this,arguments)}function Y(){return(Y=(0,D.Z)(F().mark((function e(i){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==r&&void 0!==r&&r.currentExchangeRate.isZero()&&i.updateExchangeRate(!1,Ce.xE,Ce.xE),i.addAsset(M.O$.from(w.quotient.toString()),n),e.abrupt("return","".concat(t._(t._("Deposit"))," ").concat(null===r||void 0===r?void 0:r.asset.tokenInfo.symbol));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=w?y.lessThan(w)?"Insufficient balance":void 0:"Enter an amount",q=!B;return(0,se.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,se.jsx)(oe,{value:x,currency:c,id:"add-liquidity-input-tokenb",onUserInput:function(e){return f(e)},showMaxButton:!0,onMax:function(){var e;f(null!==(e=null===j||void 0===j?void 0:j.toExact())&&void 0!==e?e:"")},currencyBalance:y,fiatValue:_}),k&&(0,se.jsx)(fe.Z,{message:t._(t._("Something went wrong during signing of the approval. This is expected for hardware wallets, such as Trezor and Ledger. Click again and the fallback method will be used")),className:"mb-4"}),o?!q||A||E!==Re.kG.NOT_APPROVED&&E!==Re.kG.PENDING?!q||n||O!==s.UK.NOT_APPROVED&&O!==s.UK.PENDING?(0,se.jsx)(L.Kd,{onClick:function(){return S(r,T)},disabled:!q,error:!q&&!!w,children:B||t._(t._("Confirm Deposit"))}):(0,se.jsx)(L.ZP,{color:"gradient",size:"lg",onClick:Z,disabled:O!==s.UK.NOT_APPROVED,children:O===s.UK.PENDING?(0,se.jsxs)(d.Z,{children:[t._(t._("Approving"))," ",null===c||void 0===c?void 0:c.symbol]}):"".concat(t._(t._("Approve"))," ").concat(null===c||void 0===c?void 0:c.symbol)}):(0,se.jsx)(L.ZP,{color:"gradient",size:"lg",onClick:P,disabled:E!==Re.kG.NOT_APPROVED,children:E===Re.kG.PENDING?(0,se.jsx)(d.Z,{children:t._(t._("Approving Kashi"))}):t._(t._("Approve Kashi"))}):(0,se.jsx)(K.Z,{size:"lg",color:"blue",className:"w-full"})]})};Ee.Provider=_e.ZP;var ke,Ae=Ee,Pe=function(e){var r,n,t,i=e.pair,o=e.useBento,l=(0,g.mV)().i18n,c=(0,s.aQ)().account,u=(0,ye.U8)(null===i||void 0===i||null===(r=i.asset)||void 0===r?void 0:r.address)||void 0,v=(0,m.useState)(""),x=v[0],f=v[1],h=(0,Re.ZP)(),N=(0,a.Z)(h,5),y=N[0],j=N[1],w=N[2],_=N[3],C=N[4],R=(0,Ce.LT)(null!==(n=null===i||void 0===i?void 0:i.maxAssetAvailable)&&void 0!==n?n:Ce.xE,null!==(t=null===i||void 0===i?void 0:i.currentUserAssetAmount.value)&&void 0!==t?t:Ce.xE),E=u&&R&&b.ih.fromRawAmount(u,R.toString()),k=(0,V.N)(E),A=E,P=(0,p.eo)(x,u);function S(e){return I.apply(this,arguments)}function I(){return(I=(0,D.Z)(F().mark((function e(r){var n,t;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,Ce.LT)(i.userAssetFraction,i.maxAssetAvailableFraction),t=M.O$.from(P.quotient.toString()).mulDiv(i.currentTotalAsset.base,i.currentAllAssets.value),console.log("max",n.toString()),console.log((0,Ce.LT)(t,n).toString()),r.removeAsset((0,Ce.LT)(t,n),o),e.abrupt("return","".concat(l._(l._("Withdraw"))," ").concat(i.asset.tokenInfo.symbol));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=P?null!==E&&void 0!==E&&E.lessThan(P)?"Insufficient balance":void 0:"Enter an amount",O=!U;return(0,se.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,se.jsx)(oe,{value:x,currency:u,id:"add-liquidity-input-tokenb",showMaxButton:!0,onMax:function(){var e;f(null!==(e=null===A||void 0===A?void 0:A.toExact())&&void 0!==e?e:"")},onUserInput:function(e){return f(e)},currencyBalance:E,fiatValue:k}),j&&(0,se.jsx)(fe.Z,{message:l._(l._("Something went wrong during signing of the approval. This is expected for hardware wallets, such as Trezor and Ledger. Click again and the fallback method will be used")),className:"mb-4"}),(null===R||void 0===R?void 0:R.eq(0))&&(0,se.jsx)(fe.Z,{message:l._(l._("Note: If your KMP is staked, you cannot withdraw your lent tokens. You must unstake first.")),className:"mb-4",type:"information"}),c?!O||w||y!==Re.kG.NOT_APPROVED&&y!==Re.kG.PENDING?(0,se.jsx)(L.Kd,{onClick:function(){return C(i,S)},disabled:!O,error:!O&&!!P,children:U||l._(l._("Confirm Withdraw"))}):(0,se.jsx)(L.ZP,{color:"gradient",size:"lg",onClick:_,disabled:y!==Re.kG.NOT_APPROVED,children:y===Re.kG.PENDING?(0,se.jsx)(d.Z,{children:l._(l._("Approving Kashi"))}):l._(l._("Approve Kashi"))}):(0,se.jsx)(K.Z,{size:"lg",color:"blue",className:"w-full"})]})},Se=function(e){var r=e.farm,n=(0,g.mV)().i18n,t=(0,_e.c0)(r.pair.id),i=(0,m.useState)(!0),s=i[0],o=i[1],a=(0,m.useState)(!1),l=a[0],d=a[1];return(0,se.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,se.jsxs)("div",{className:"flex items-center justify-between pb-2",children:[(0,se.jsx)(O.r.Group,{children:(0,se.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,se.jsx)(O.r,{checked:s,onChange:function(){return o(!s)},className:"".concat(s?"bg-blue border-blue":"bg-pink border-pink"," bg-opacity-60 border border-opacity-80 relative inline-flex items-center h-[32px] rounded-full w-[54px] transition-colors focus:outline-none"),children:(0,se.jsx)("span",{className:"".concat(s?"translate-x-[1px] text-blue":"translate-x-[23px] text-pink"," inline-block w-7 h-7 transform bg-white rounded-full transition-transform"),children:s?(0,se.jsx)(Z.pOD,{}):(0,se.jsx)(Z.V_R,{})})}),(0,se.jsx)(O.r.Label,{children:s?n._(n._("Deposit")):n._(n._("Withdraw"))}),(0,se.jsxs)("div",{className:"flex space-x-1",children:[(0,se.jsx)("div",{className:"whitespace-nowrap",children:s?n._(n._("From:")):n._(n._("To:"))}),(0,se.jsxs)(we.J,{children:[(0,se.jsx)(we.J.Button,{children:(0,se.jsxs)("div",{className:"flex",children:[(0,se.jsx)("div",{children:l?"BentoBox":n._(n._("Wallet"))}),(0,se.jsx)(Z.v4q,{className:"w-3"})]})}),(0,se.jsx)(we.J.Panel,{className:"absolute",children:(0,se.jsx)(we.J.Button,{children:(0,se.jsx)("div",{onClick:function(){return d(!l)},children:l?n._(n._("Wallet")):"BentoBox"})})})]})]})]})}),(0,se.jsx)("div",{className:"whitespace-nowrap",children:s?n._(n._("Balance")):n._(n._("Available to Withdraw"))})]}),s?(0,se.jsx)(Ae,{pair:t,useBento:l}):(0,se.jsx)(Pe,{pair:t,useBento:l})]})},Ie=n(13777),Ue=n(64958),Oe=function(e){var r=e.farm,n=(0,g.mV)().i18n;return(0,se.jsx)(v.p,{children:function(e){var t=e.open;return(0,se.jsxs)(se.Fragment,{children:[!t&&(0,se.jsx)(v.p.Button,{className:"self-start p-2 mt-5 rounded-r-lg sm:mt-3 sm:p-4 sm:pl-6 bg-dark-700",children:(0,se.jsx)(Z.zqj,{width:20,height:20})}),(0,se.jsx)(f.u,{show:t,as:m.Fragment,enter:"transition ease-in duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",children:(0,se.jsxs)(v.p.Panel,{static:!0,className:"flex flex-col w-1/2 min-w-full p-6 space-y-8 rounded rounded-t-none rounded-r-none sm:min-w-min bg-dark-700",children:[(0,se.jsxs)("div",{className:"flex items-center justify-between",children:[(0,se.jsx)(he.Z,{className:"text-xl cursor-pointer",children:n._(n._("How to Participate"))}),(0,se.jsx)(v.p.Button,{children:(0,se.jsx)(Ie.Z,{width:20,height:30})})]}),(0,se.jsx)("div",{className:"w-full h-0 font-bold bg-transparent border border-b-0 border-transparent rounded text-high-emphesis border-gradient-r-blue-pink-dark-900 opacity-20"}),(0,se.jsxs)("div",{className:"flex flex-col space-y-2 md:pr-6",children:[(0,se.jsx)(he.Z,{variant:"sm",weight:700,children:n._(n._("Step One"))}),r.pair.type===i.FJ.SWAP&&(0,se.jsx)(se.Fragment,{children:(0,se.jsxs)(he.Z,{variant:"sm",children:[n._(n._("Provide liquidity to the"))," ",(0,se.jsx)(Ue.Z,{href:"/add/".concat(r.pair.token0.id,"/").concat(r.pair.token1.id),children:(0,se.jsxs)("a",{className:"text-sm text-blue",children:[r.pair.token0.symbol,"/",r.pair.token1.symbol]})})," ",n._(n._("pool (or"))," ",(0,se.jsx)(Ue.Z,{href:"/migrate",children:(0,se.jsx)("a",{className:"text-sm text-blue",children:"migrate liquidity"})}),n._(n._(") to receive SLP tokens."))]})}),r.pair.type===i.FJ.KASHI&&(0,se.jsxs)(he.Z,{variant:"sm",children:[n._(n._("Lend"))," ",r.pair.token0.symbol," ",n._(n._("to the"))," ",(0,se.jsx)(Ue.Z,{href:"/lend/".concat(r.pair.id),children:(0,se.jsxs)("a",{className:"text-sm text-blue",children:[r.pair.token0.symbol,"/",r.pair.token1.symbol]})})," ",n._(n._("Kashi market to get KMP (Kashi Medium-risk Pair) tokens."))]})]}),(0,se.jsxs)("div",{className:"flex flex-col space-y-2 md:pr-6",children:[(0,se.jsx)(he.Z,{variant:"sm",weight:700,children:n._(n._("Step Two"))}),(0,se.jsxs)(he.Z,{variant:"sm",children:[n._(n._("Approve and then deposit your"))," ",r.pair.type===i.FJ.KASHI?"KMP":"SLP"," ",n._(n._("tokens into the farm to start earning rewards."))]})]}),(0,se.jsxs)("div",{className:"flex flex-col space-y-2 md:pr-6",children:[(0,se.jsx)(he.Z,{variant:"sm",weight:700,children:n._(n._("Step Three"))}),r.pair.type===i.FJ.SWAP&&(0,se.jsx)(he.Z,{variant:"sm",children:n._(n._("Harvest rewards and unstake your SLP tokens at any time. You can then remove your liquidity to receive your base investment tokens back in your wallet."))}),r.pair.type===i.FJ.KASHI&&(0,se.jsxs)(he.Z,{variant:"sm",children:[n._(n._("Harvest rewards and unstake your KMP tokens at any time. You can then withdraw your lent"))," ",r.pair.token0.symbol," ",n._(n._("into your wallet or BentoBox."))]})]})]})})]})}})},Ze=n(68482),Te=n(47083),Ye=n(4610),De=n(90849),Be=(ke={},(0,c.Z)(ke,b.a_.MAINNET,"some"),(0,c.Z)(ke,b.a_.MATIC,"some"),function(e){var r,n,t=(0,m.useState)("0"),s=t[0],o=t[1],a=(0,E.a)(),l=a.chainId,d=a.account,u=a.library,p=(0,De.Ov)(),v=(0,Te.eH)(null===e||void 0===e||null===(r=e.rewarder)||void 0===r?void 0:r.id),x=(0,Te.fQ)(null===e||void 0===e||null===(n=e.rewarder)||void 0===n?void 0:n.id),f=(0,m.useMemo)((function(){var e;return e={},(0,c.Z)(e,b.a_.MAINNET,v),(0,c.Z)(e,b.a_.MATIC,x),(0,c.Z)(e,b.a_.XDAI,x),(0,c.Z)(e,b.a_.HARMONY,x),(0,c.Z)(e,b.a_.ARBITRUM,v),(0,c.Z)(e,b.a_.CELO,x),(0,c.Z)(e,b.a_.MOONRIVER,x),e}),[x,v]);return(0,m.useEffect)((function(){function r(){return(r=(0,D.Z)(F().mark((function r(){var n,t,i;return F().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,null===(n=f[l])||void 0===n?void 0:n.pendingTokens(e.id,d,"0");case 3:t=r.sent,i=e.rewardToken?Ye.Z.from(M.O$.from(null===t||void 0===t?void 0:t.rewardAmounts[0]),M.O$.from(10).pow(e.rewardToken.decimals||18)).toString(e.rewardToken.decimals||18):Ye.Z.from(M.O$.from(null===t||void 0===t?void 0:t.rewardAmounts[0]),M.O$.from(10).pow(18)).toString(18),o(i),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.error(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))).apply(this,arguments)}d&&v&&e&&u&&(e.chef===i.WJ.MASTERCHEF_V2||e.chef===i.WJ.MINICHEF)&&function(){r.apply(this,arguments)}()}),[d,p,v,x,e,u,f,l]),s});function Fe(e){var r=(0,s.aQ)().account,n=(0,s.Z9)(),t=P(e);return{deposit:(0,m.useCallback)(function(){var n=(0,D.Z)(F().mark((function n(s,o){var a;return F().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e!==i.WJ.MASTERCHEF){n.next=7;break}return n.next=4,null===t||void 0===t?void 0:t.deposit(s,o);case 4:a=n.sent,n.next=10;break;case 7:return n.next=9,null===t||void 0===t?void 0:t.deposit(s,o,r);case 9:a=n.sent;case 10:return n.abrupt("return",a);case 13:return n.prev=13,n.t0=n.catch(0),console.error(n.t0),n.abrupt("return",n.t0);case 17:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e,r){return n.apply(this,arguments)}}(),[r,e,t]),withdraw:(0,m.useCallback)(function(){var n=(0,D.Z)(F().mark((function n(s,o){var a;return F().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e!==i.WJ.MASTERCHEF){n.next=7;break}return n.next=4,null===t||void 0===t?void 0:t.withdraw(s,o);case 4:a=n.sent,n.next=16;break;case 7:if(e!==i.WJ.MINICHEF){n.next=13;break}return n.next=10,null===t||void 0===t?void 0:t.withdrawAndHarvest(s,o,r);case 10:a=n.sent,n.next=16;break;case 13:return n.next=15,null===t||void 0===t?void 0:t.withdraw(s,o,r);case 15:a=n.sent;case 16:return n.abrupt("return",a);case 19:return n.prev=19,n.t0=n.catch(0),console.error(n.t0),n.abrupt("return",n.t0);case 23:case"end":return n.stop()}}),n,null,[[0,19]])})));return function(e,r){return n.apply(this,arguments)}}(),[r,e,t]),harvest:(0,m.useCallback)(function(){var s=(0,D.Z)(F().mark((function s(o){var a,l,d,c,u;return F().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,e!==i.WJ.MASTERCHEF){s.next=7;break}return s.next=4,null===t||void 0===t?void 0:t.deposit(o,_._Y);case 4:a=s.sent,s.next=29;break;case 7:if(e!==i.WJ.MASTERCHEF_V2){s.next=25;break}return s.next=10,null===t||void 0===t?void 0:t.pendingSushi(o,r);case 10:return l=s.sent,s.next=13,null===n||void 0===n?void 0:n.balanceOf(null===t||void 0===t?void 0:t.address);case 13:if(d=s.sent,!l.gt(d)){s.next=20;break}return s.next=17,null===t||void 0===t?void 0:t.batch([null===t||void 0===t||null===(c=t.interface)||void 0===c?void 0:c.encodeFunctionData("harvestFromMasterChef"),null===t||void 0===t||null===(u=t.interface)||void 0===u?void 0:u.encodeFunctionData("harvest",[o,r])],!0);case 17:a=s.sent,s.next=23;break;case 20:return s.next=22,null===t||void 0===t?void 0:t.harvest(o,r);case 22:a=s.sent;case 23:s.next=29;break;case 25:if(e!==i.WJ.MINICHEF){s.next=29;break}return s.next=28,null===t||void 0===t?void 0:t.harvest(o,r);case 28:a=s.sent;case 29:return s.abrupt("return",a);case 32:return s.prev=32,s.t0=s.catch(0),console.error(s.t0),s.abrupt("return",s.t0);case 36:case"end":return s.stop()}}),s,null,[[0,32]])})));return function(e){return s.apply(this,arguments)}}(),[r,e,t,n])}}var Me=n(11163),qe=function(e){var r,n,t,o,a,l,d,c,u,v,x,f,h,y,_,C,R=e.farm,k=(0,g.mV)().i18n,A=(0,s.aQ)().chainId,I=Fe(R.chef).harvest,U=(0,Me.useRouter)(),O=(0,z.h7)(),Z=(0,_e.c0)(R.pair.id),T=(0,m.useState)(!1),Y=T[0],B=T[1],q=(0,ye.U8)(R.pair.token0.id),K=(0,ye.U8)(R.pair.token1.id),H=new b.WU(A,(0,N.getAddress)(R.pair.id),R.pair.type===i.FJ.KASHI?Number(R.pair.asset.decimals):18,(null!==(r=R.pair.symbol)&&void 0!==r?r:R.pair.type===i.FJ.KASHI)?"KMP":"SLP",R.pair.name),V=S(R,H),W=Z&&V&&(0,p.bi)(M.O$.from(V.quotient.toString()).mulDiv(Z.currentAllAssets.value,Z.totalAsset.base),Z.asset),J=Be(R),G=function(e){var r,n=(0,E.a)(),t=n.account,i=n.chainId,s=P(e.chef),o=(0,m.useMemo)((function(){if(t)return[String(e.id),String(t)]}),[e,t]),a=null===(r=(0,j.Wk)(o?s:null,"pendingSushi",o))||void 0===r?void 0:r.result,l=null===a||void 0===a?void 0:a[0],d=l?b.QA.BigInt(l.toString()):void 0;return d?b.ih.fromRawAmount(w.hs[i],d):void 0}(R),Q=b.ih.fromRawAmount(b.qY[A],R.pair.type===i.FJ.KASHI?null!==(n=null===W||void 0===W?void 0:W.usdValue.toString())&&void 0!==n?n:b.xE:b.QA.BigInt((Number(null!==(t=null===V||void 0===V?void 0:V.toExact())&&void 0!==t?t:"0")*R.pair.reserveUSD/R.pair.totalSupply).toFixed(b.qY[A].decimals).toBigNumber(b.qY[A].decimals))),X=(null!==(o=null===R||void 0===R||null===(a=R.rewards)||void 0===a||null===(l=a[0])||void 0===l?void 0:l.rewardPrice)&&void 0!==o?o:0)*Number(null!==(d=null===G||void 0===G?void 0:G.toExact())&&void 0!==d?d:0)+(null!==(c=null===R||void 0===R||null===(u=R.rewards)||void 0===u||null===(v=u[1])||void 0===v?void 0:v.rewardPrice)&&void 0!==c?c:0)*Number(null!==J&&void 0!==J?J:0);function $(){return($=(0,D.Z)(F().mark((function e(){var r;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.prev=1,e.next=4,I(R.id);case 4:r=e.sent,O(r,{summary:k._(k._("Harvest {0}/{1}",{0:R.pair.token0.name,1:R.pair.token1.name}))}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:B(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return(0,se.jsxs)("div",{className:"flex flex-col w-full space-y-8",children:[(0,se.jsxs)("div",{className:"flex flex-col w-full space-y-4",children:[(0,se.jsxs)("div",{className:"flex items-end justify-between font-bold",children:[(0,se.jsxs)("div",{className:"text-lg cursor-pointer",children:[k._(k._("Your Deposits")),":"]}),(0,se.jsxs)(he.Z,{className:"font-bold",children:[(0,p.uf)(null!==(x=null===V||void 0===V?void 0:V.toSignificant(6))&&void 0!==x?x:0)," ",R.pair.token0.symbol,"-",R.pair.token1.symbol," ",H.symbol]})]}),(0,se.jsx)("div",{className:"w-full h-0 font-bold bg-transparent border border-b-0 border-transparent rounded text-high-emphesis border-gradient-r-blue-pink-dark-800 opacity-20"}),(0,se.jsxs)("div",{className:"flex justify-between",children:[(0,se.jsxs)("div",{className:"flex flex-col justify-center space-y-2",children:[(0,se.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,se.jsx)(ne.Z,{currency:q,size:"30px"}),R.pair.type===i.FJ.KASHI&&(0,se.jsx)(he.Z,{children:(0,p.uf)(null!==(f=null===W||void 0===W?void 0:W.value.toFixed(Z.asset.tokenInfo.decimals))&&void 0!==f?f:0)}),R.pair.type===i.FJ.SWAP&&(0,se.jsx)(he.Z,{children:(0,p.uf)(R.pair.reserve0*Number(null!==(h=null===V||void 0===V?void 0:V.toExact())&&void 0!==h?h:0)/R.pair.totalSupply)}),(0,se.jsx)(he.Z,{children:null===q||void 0===q?void 0:q.symbol})]}),R.pair.type===i.FJ.SWAP&&(0,se.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,se.jsx)(ne.Z,{currency:K,size:"30px"}),(0,se.jsx)(he.Z,{children:(0,p.uf)(R.pair.reserve1*Number(null!==(y=null===V||void 0===V?void 0:V.toExact())&&void 0!==y?y:0)/R.pair.totalSupply)}),(0,se.jsx)(he.Z,{children:null===K||void 0===K?void 0:K.symbol})]})]}),(0,se.jsx)(he.Z,{children:(0,p.uf)(null!==(_=null===Q||void 0===Q?void 0:Q.toSignificant(6))&&void 0!==_?_:0,!0)})]})]}),(0,se.jsxs)("div",{className:"flex flex-col w-full space-y-4",children:[(0,se.jsxs)("div",{className:"flex items-end justify-between",children:[(0,se.jsxs)("div",{className:"text-lg font-bold cursor-pointer",children:[k._(k._("Your Rewards")),":"]}),(G&&G.greaterThan(b.xE)||J&&Number(J)>0)&&(0,se.jsx)("button",{className:"py-0.5 px-4 font-bold bg-transparent border border-transparent rounded cursor-pointer border-gradient-r-blue-pink-dark-800 whitespace-nowrap text-md",disabled:Y,onClick:function(){return $.apply(this,arguments)},children:k._(k._("Harvest Rewards"))})]}),(0,se.jsx)("div",{className:"w-full bg-transparent border border-b-0 border-transparent rounded h-0font-bold text-high-emphesis border-gradient-r-blue-pink-dark-800 opacity-20"}),(0,se.jsxs)("div",{className:"flex justify-between",children:[(0,se.jsx)("div",{className:"flex flex-col space-y-2",children:null===R||void 0===R||null===(C=R.rewards)||void 0===C?void 0:C.map((function(e,r){var n;return(0,se.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,se.jsx)(Ze.Z,{src:e.icon,width:"30px",height:"30px",className:"rounded-md",layout:"fixed",alt:e.token}),0===r&&(0,se.jsx)(he.Z,{children:(0,p.uf)(null!==(n=null===G||void 0===G?void 0:G.toSignificant(6))&&void 0!==n?n:0)}),1===r&&(0,se.jsx)(he.Z,{children:(0,p.uf)(J)}),(0,se.jsx)(he.Z,{children:e.token})]},r)}))}),(0,se.jsx)(he.Z,{children:(0,p.uf)(X,!0)})]})]}),R.pair.type===i.FJ.KASHI&&(0,se.jsx)(L.ZP,{size:"sm",className:"font-bold bg-transparent border border-transparent rounded cursor-pointer border-gradient-r-blue-pink-dark-800 whitespace-nowrap text-md",onClick:function(){return U.push("/lend/".concat(R.pair.id))},children:k._(k._("View Details on Kashi"))})]})},Le=n(98950),Ke=function(e){var r,n,t,o,l=e.farm,u=(0,s.aQ)(),v=u.account,x=u.chainId,f=(0,m.useState)(!0),h=f[0],g=f[1],y=(0,m.useState)(""),j=y[0],w=y[1],_=(0,m.useState)(""),C=_[0],R=_[1],E=Fe(l.chef),k=E.deposit,A=E.withdraw,P=(0,z.h7)(),I=new b.WU(x,(0,N.getAddress)(l.pair.id),l.pair.type===i.FJ.KASHI?Number(l.pair.asset.decimals):18,l.pair.type===i.FJ.KASHI?"KMP":"SLP"),U=(0,_e.c0)(l.pair.id),Y=(0,Le._h)(v,I),B=S(l,I),q=b.ih.fromRawAmount(b.qY[x],l.pair.type===i.FJ.KASHI?U&&Y?(0,p.xM)(M.O$.from(Y.quotient.toString()).mulDiv(U.currentAllAssets.value,U.totalAsset.base),U.asset).toString():b.xE:b.QA.BigInt((Number(null!==(r=null===Y||void 0===Y?void 0:Y.toExact())&&void 0!==r?r:"0")*l.pair.reserveUSD/l.pair.totalSupply).toFixed(b.qY[x].decimals).toBigNumber(b.qY[x].decimals))),H=b.ih.fromRawAmount(b.qY[x],l.pair.type===i.FJ.KASHI?U&&B?(0,p.xM)(M.O$.from(B.quotient.toString()).mulDiv(U.currentAllAssets.value,U.totalAsset.base),U.asset).toString():b.xE:b.QA.BigInt((Number(null!==(n=null===B||void 0===B?void 0:B.toExact())&&void 0!==n?n:"0")*l.pair.reserveUSD/l.pair.totalSupply).toFixed(b.qY[x].decimals).toBigNumber(b.qY[x].decimals))),V=(0,p.eo)(j,I),W=(0,p.eo)(C,I),J=(o={},(0,c.Z)(o,i.WJ.MASTERCHEF,(0,c.Z)({},b.a_.MAINNET,b.HW[b.a_.MAINNET])),(0,c.Z)(o,i.WJ.MASTERCHEF_V2,(0,c.Z)({},b.a_.MAINNET,b.C1[b.a_.MAINNET])),(0,c.Z)(o,i.WJ.MINICHEF,(t={},(0,c.Z)(t,b.a_.MATIC,b.uu[b.a_.MATIC]),(0,c.Z)(t,b.a_.XDAI,b.uu[b.a_.XDAI]),(0,c.Z)(t,b.a_.HARMONY,b.uu[b.a_.HARMONY]),(0,c.Z)(t,b.a_.ARBITRUM,b.uu[b.a_.ARBITRUM]),(0,c.Z)(t,b.a_.CELO,b.uu[b.a_.CELO]),(0,c.Z)(t,b.a_.MOONRIVER,b.uu[b.a_.MOONRIVER]),t)),o),G=(0,s.qL)(V,J[l.chef][x]),Q=(0,a.Z)(G,2),X=Q[0],$=Q[1],ee=V?null!==Y&&void 0!==Y&&Y.lessThan(V)?"Insufficient balance":void 0:"Enter an amount",re=!ee,ne=W?B.lessThan(W)?"Insufficient balance":void 0:"Enter an amount",te=!ne;return(0,se.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,se.jsxs)("div",{className:"flex items-center justify-between pb-2",children:[(0,se.jsx)(O.r.Group,{children:(0,se.jsxs)("div",{className:"flex items-center",children:[(0,se.jsx)(O.r,{checked:h,onChange:function(){return g(!h)},className:"".concat(h?"bg-blue border-blue":"bg-pink border-pink"," bg-opacity-60 border border-opacity-80 relative inline-flex items-center h-[32px] rounded-full w-[54px] transition-colors focus:outline-none"),children:(0,se.jsx)("span",{className:"".concat(h?"translate-x-[1px] text-blue":"translate-x-[23px] text-pink"," inline-block w-7 h-7 transform bg-white rounded-full transition-transform"),children:h?(0,se.jsx)(Z.pOD,{}):(0,se.jsx)(Z.V_R,{})})}),(0,se.jsx)(O.r.Label,{className:"ml-3",children:h?T.ag._(T.ag._("Deposit")):T.ag._(T.ag._("Withdraw"))})]})}),(0,se.jsx)("div",{className:"flex justify-end space-x-4",children:["25","50","75","100"].map((function(e,r){return(0,se.jsx)(L.ZP,{variant:"outlined",size:"xs",color:h?"blue":"pink",onClick:function(){h?w(Y.multiply(e).divide(100).toExact()):R(B.multiply(e).divide(100).toExact())},className:(0,p.AK)("text-md border border-opacity-50",h?"focus:ring-blue border-blue":"focus:ring-pink border-pink","25"===e||"75"===e?"hidden sm:block":""),children:"100"===e?"MAX":e+"%"},r)}))})]}),h?(0,se.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,se.jsx)(oe,{value:j,currency:I,id:"add-liquidity-input-tokenb",hideIcon:!0,onUserInput:function(e){return w(e)},currencyBalance:Y,fiatValue:q,showMaxButton:!1}),v?!re||X!==s.UK.NOT_APPROVED&&X!==s.UK.PENDING?(0,se.jsx)(L.Kd,{onClick:(0,D.Z)(F().mark((function e(){var r;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(l.id,M.O$.from(V.quotient.toString()));case 3:r=e.sent,P(r,{summary:"Deposit ".concat(l.pair.token0.name,"/").concat(l.pair.token1.name)}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),disabled:!re,error:!re&&!!V,children:ee||T.ag._(T.ag._("Confirm Deposit"))}):(0,se.jsx)(L.ZP,{color:"gradient",size:"lg",onClick:$,disabled:X!==s.UK.NOT_APPROVED,children:X===s.UK.PENDING?(0,se.jsx)(d.Z,{children:T.ag._(T.ag._("Approving"))}):T.ag._(T.ag._("Approve"))}):(0,se.jsx)(K.Z,{size:"lg",color:"blue",className:"w-full"})]}):(0,se.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,se.jsx)(oe,{value:C,currency:I,id:"add-liquidity-input-tokenb",hideIcon:!0,onUserInput:function(e){return R(e)},currencyBalance:B,fiatValue:H,showMaxButton:!1}),v?(0,se.jsx)(L.Kd,{onClick:(0,D.Z)(F().mark((function e(){var r;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(l.id,M.O$.from(W.quotient.toString()));case 3:r=e.sent,P(r,{summary:"Withdraw ".concat(l.pair.token0.name,"/").concat(l.pair.token1.name)}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),disabled:!te,error:!te&&!!W,children:ne||T.ag._(T.ag._("Confirm Withdraw"))}):(0,se.jsx)(K.Z,{size:"lg",color:"blue",className:"w-full"})]})]})},He=function(e){var r=e.farm,n=(0,g.mV)().i18n,t=(0,s.aQ)().chainId,o=S(r,new b.WU(t,(0,N.getAddress)(r.pair.id),r.pair.type===i.FJ.KASHI?Number(r.pair.asset.decimals):18,r.pair.type===i.FJ.KASHI?"KMP":"SLP")),a=(0,m.useState)(null===o||void 0===o?void 0:o.greaterThan(b.xE)),l=a[0],d=a[1];return(0,se.jsx)(f.u,{show:!0,enter:"transition-opacity duration-75",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,se.jsxs)(v.p.Panel,{className:"flex w-full border-t-0 rounded rounded-t-none bg-dark-800",static:!0,children:[(0,se.jsx)(Oe,{farm:r}),(0,se.jsxs)("div",{className:"flex flex-col w-full p-6 pl-2 space-y-8 sm:pl-6",children:[(0,se.jsxs)("div",{className:"flex items-center justify-between",children:[(0,se.jsx)("div",{className:"text-xl font-bold cursor-pointer",children:l?n._(n._("Investment Details")):n._(n._("Manage Position"))}),(0,se.jsx)("button",{className:"py-0.5 px-4 font-bold bg-transparent border border-transparent rounded cursor-pointer border-gradient-r-blue-pink-dark-800 whitespace-nowrap",onClick:function(){return d(!l)},children:l?n._(n._("Manage Position")):n._(n._("Investment Details"))})]}),(0,se.jsx)("div",{className:"w-full h-0 font-bold bg-transparent border border-b-0 border-transparent rounded text-high-emphesis border-gradient-r-blue-pink-dark-800 opacity-20"}),l?(0,se.jsx)(qe,{farm:r}):(0,se.jsxs)(h.O.Group,{children:[(0,se.jsxs)(h.O.List,{className:"flex rounded bg-dark-900",children:[(0,se.jsx)(h.O,{className:function(e){var r=e.selected;return"".concat(r?"text-high-emphesis bg-gradient-to-r from-opaque-blue to-opaque-pink hover:from-blue hover:to-pink":"text-secondary"," flex items-center justify-center flex-1 px-2 py-2 text-lg rounded cursor-pointer select-none")},children:r.pair.type===i.FJ.KASHI?n._(n._("Lending")):n._(n._("Liquidity"))}),(0,se.jsx)(h.O,{className:function(e){var r=e.selected;return"".concat(r?"text-high-emphesis bg-gradient-to-r from-opaque-blue to-opaque-pink hover:from-blue hover:to-pink":"text-secondary"," flex items-center justify-center flex-1 px-2 py-2 text-lg rounded cursor-pointer select-none")},children:n._(n._("Staking"))})]}),(0,se.jsx)(h.O.Panel,{children:r.pair.type===i.FJ.KASHI?(0,se.jsx)(Se,{farm:r}):(0,se.jsx)(je,{farm:r})}),(0,se.jsx)(h.O.Panel,{children:(0,se.jsx)(Ke,{farm:r})})]})]})]})})},Ve=n(91419),We=["farm"];function Je(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function Ge(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?Je(Object(n),!0).forEach((function(r){(0,c.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var ze=function(e){var r=e.farm,n=(0,u.Z)(e,We),t=(0,ye.U8)(r.pair.token0.id),s=(0,ye.U8)(r.pair.token1.id);return(0,se.jsx)(v.p,Ge(Ge({},n),{},{children:function(e){var n,o,a,l,d,c,u,m,f,h=e.open;return(0,se.jsxs)("div",{children:[(0,se.jsx)(v.p.Button,{className:(0,p.AK)(h&&"rounded-b-none","w-full px-4 py-6 text-left rounded cursor-pointer select-none bg-dark-900 text-primary text-sm md:text-lg"),children:(0,se.jsxs)("div",{className:"grid grid-cols-4",children:[(0,se.jsxs)("div",{className:"flex col-span-2 space-x-4 md:col-span-1",children:[(0,se.jsx)(x.Z,{currency0:t,currency1:s,size:40}),(0,se.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,se.jsxs)("div",{children:[(0,se.jsx)("span",{className:"font-bold",children:null===r||void 0===r||null===(n=r.pair)||void 0===n||null===(o=n.token0)||void 0===o?void 0:o.symbol}),"/",(0,se.jsx)("span",{className:(null===r||void 0===r||null===(a=r.pair)||void 0===a?void 0:a.type)===i.FJ.KASHI?"font-thin":"font-bold",children:null===r||void 0===r||null===(l=r.pair)||void 0===l||null===(d=l.token1)||void 0===d?void 0:d.symbol})]}),(null===r||void 0===r||null===(c=r.pair)||void 0===c?void 0:c.type)===i.FJ.SWAP&&(0,se.jsx)("div",{className:"text-xs md:text-base text-secondary",children:"SushiSwap Farm"}),(null===r||void 0===r||null===(u=r.pair)||void 0===u?void 0:u.type)===i.FJ.KASHI&&(0,se.jsx)("div",{className:"text-xs md:text-base text-secondary",children:"Kashi Farm"})]})]}),(0,se.jsx)("div",{className:"flex flex-col justify-center font-bold",children:(0,p.uf)(r.tvl,!0)}),(0,se.jsxs)("div",{className:"flex-row items-center hidden space-x-4 md:flex",children:[(0,se.jsx)("div",{className:"flex items-center space-x-2",children:null===r||void 0===r||null===(m=r.rewards)||void 0===m?void 0:m.map((function(e,r){return(0,se.jsx)("div",{className:"flex items-center",children:(0,se.jsx)(Ze.Z,{src:e.icon,width:"30px",height:"30px",className:"rounded-md",layout:"fixed",alt:e.token})},r)}))}),(0,se.jsx)("div",{className:"flex flex-col space-y-1",children:null===r||void 0===r||null===(f=r.rewards)||void 0===f?void 0:f.map((function(e,r){return(0,se.jsxs)("div",{className:"text-xs md:text-sm whitespace-nowrap",children:[(0,p.uf)(e.rewardPerDay)," ",e.token," / DAY"]},r)}))})]}),(0,se.jsxs)("div",{className:"flex flex-col items-end justify-center",children:[(0,se.jsxs)("div",{className:"flex flex-row items-center font-bold text-right text-high-emphesis",children:[0!==(null===r||void 0===r?void 0:r.tvl)?(null===r||void 0===r?void 0:r.roiPerYear)>1e4?">10,000%":(0,p.T3)(100*(null===r||void 0===r?void 0:r.roiPerYear)):"Infinite",!(null===r||void 0===r||!r.feeApyPerYear)&&(0,se.jsx)(Ve.Z,{text:(0,se.jsxs)("div",{className:"flex flex-col",children:[(0,se.jsxs)("div",{children:["Reward APR:"," ",0!==(null===r||void 0===r?void 0:r.tvl)?(null===r||void 0===r?void 0:r.rewardAprPerYear)>1e4?">10,000%":(0,p.T3)(100*(null===r||void 0===r?void 0:r.rewardAprPerYear)):"Infinite"]}),(0,se.jsxs)("div",{children:["Fee APR:"," ",(null===r||void 0===r?void 0:r.feeApyPerYear)<1e4?(0,p.T3)(100*(null===r||void 0===r?void 0:r.feeApyPerYear)):">10,000%"]})]})})]}),(0,se.jsx)("div",{className:"text-xs text-right md:text-base text-secondary",children:"annualized"})]})]})}),h&&(0,se.jsx)(He,{farm:r})]})}}))},Qe=n(58533),Xe=n(80113),$e=function(e){var r=e.farms,n=e.term,t=(0,Xe.Z)(r,{key:"roiPerYear"}),i=t.items,s=t.requestSort,o=t.sortConfig,c=function(e){var r=(0,m.useState)(10),n=r[0],t=r[1];return(0,m.useEffect)((function(){return t(10)}),[e.length]),[n,t]}(i),u=(0,a.Z)(c,2),p=u[0],v=u[1],x=(0,g.mV)().i18n;return i?(0,se.jsxs)(se.Fragment,{children:[(0,se.jsxs)("div",{className:"grid grid-cols-4 text-base font-bold text-primary",children:[(0,se.jsxs)("div",{className:"flex items-center col-span-2 px-4 cursor-pointer md:col-span-1",onClick:function(){return s("symbol")},children:[(0,se.jsx)("div",{className:"hover:text-high-emphesis",children:x._(x._("Pool"))}),o&&"symbol"===o.key&&("ascending"===o.direction&&(0,se.jsx)(l.g8U,{width:12,height:12})||"descending"===o.direction&&(0,se.jsx)(l.v4q,{width:12,height:12}))]}),(0,se.jsxs)("div",{className:"flex items-center px-4 cursor-pointer hover:text-high-emphesis",onClick:function(){return s("tvl")},children:[x._(x._("TVL")),o&&"tvl"===o.key&&("ascending"===o.direction&&(0,se.jsx)(l.g8U,{width:12,height:12})||"descending"===o.direction&&(0,se.jsx)(l.v4q,{width:12,height:12}))]}),(0,se.jsx)("div",{className:"items-center justify-start hidden px-4 md:flex hover:text-high-emphesis",children:x._(x._("Rewards"))}),(0,se.jsxs)("div",{className:"flex items-center justify-end px-4 cursor-pointer hover:text-high-emphesis",onClick:function(){return s("roiPerYear")},children:[x._(x._("APR")),o&&"roiPerYear"===o.key&&("ascending"===o.direction&&(0,se.jsx)(l.g8U,{width:12,height:12})||"descending"===o.direction&&(0,se.jsx)(l.v4q,{width:12,height:12}))]})]}),(0,se.jsx)(Qe.Z,{dataLength:p,next:function(){return v(p+5)},hasMore:!0,loader:null,children:(0,se.jsx)("div",{className:"space-y-4",children:i.slice(0,p).map((function(e,r){return(0,se.jsx)(ze,{farm:e},r)}))})})]}):(0,se.jsx)("div",{className:"w-full py-6 text-center",children:n?(0,se.jsx)("span",{children:"No Results."}):(0,se.jsx)(d.Z,{children:"Loading"})})},er=n(9008),rr=function(e){e.positionsLength;var r=(0,s.aQ)(),n=r.account,t=r.chainId,i=(0,De.mq)();return(0,se.jsxs)("div",{className:"space-y-4",children:[n?(0,se.jsx)(Ue.Z,{exact:!0,href:"/farm?filter=portfolio",activeClassName:"font-bold bg-transparent border rounded text-high-emphesis border-transparent border-gradient-r-blue-pink-dark-900",children:(0,se.jsx)("a",{className:"flex items-center justify-between px-4 py-6 text-base font-bold border border-transparent rounded cursor-pointer bg-dark-900 hover:bg-dark-800",children:"Your Farms"})}):(0,se.jsx)("a",{className:"flex items-center justify-between px-4 py-6 text-base font-bold border border-transparent rounded cursor-pointer striped-background text-secondary bg-dark-900 hover:bg-dark-800",onClick:i,children:"Your Farms"}),(0,se.jsx)("div",{className:"w-full h-0 font-bold bg-transparent border border-b-0 border-transparent rounded text-high-emphesis md:border-gradient-r-blue-pink-dark-800 opacity-20"}),(0,se.jsx)(Ue.Z,{exact:!0,href:"/farm",activeClassName:"font-bold bg-transparent border rounded text-high-emphesis border-transparent border-gradient-r-blue-pink-dark-900",children:(0,se.jsx)("a",{className:"flex items-center justify-between px-4 py-6 text-base font-bold border border-transparent rounded cursor-pointer bg-dark-900 hover:bg-dark-800",children:"All Farms"})}),[b.a_.MAINNET,b.a_.ARBITRUM].includes(t)&&(0,se.jsxs)(se.Fragment,{children:[(0,se.jsx)(Ue.Z,{exact:!0,href:"/farm?filter=kashi",activeClassName:"font-bold bg-transparent border rounded text-high-emphesis border-transparent border-gradient-r-blue-pink-dark-900",children:(0,se.jsx)("a",{className:"flex items-center justify-between px-4 py-6 text-base font-bold border border-transparent rounded cursor-pointer bg-dark-900 hover:bg-dark-800",children:"Kashi Farms"})}),(0,se.jsx)(Ue.Z,{exact:!0,href:"/farm?filter=sushi",activeClassName:"font-bold bg-transparent border rounded text-high-emphesis border-transparent border-gradient-r-blue-pink-dark-900",children:(0,se.jsx)("a",{className:"flex items-center justify-between px-4 py-6 text-base font-bold border border-transparent rounded cursor-pointer bg-dark-900 hover:bg-dark-800",children:"SushiSwap Farms"})})]}),(t===b.a_.MAINNET||t===b.a_.MATIC)&&(0,se.jsx)(Ue.Z,{exact:!0,href:"/farm?filter=2x",activeClassName:"bg-transparent border rounded text-high-emphesis border-transparent border-gradient-r-blue-pink-dark-900",children:(0,se.jsx)("a",{className:"flex items-center justify-between px-4 py-6 text-base font-bold border border-transparent rounded cursor-pointer bg-dark-900 hover:bg-dark-800",children:"2x Reward Farms"})})]})},nr=n(80435),tr=n(84329),ir=31556952/13.25;function sr(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function or(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?sr(Object(n),!0).forEach((function(r){(0,c.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sr(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function ar(){var e=(0,E.Z)().chainId,r=U(e),n=(0,tr.rL)({daysAgo:1,chainId:e}),t=(0,tr.E2)(),s=(0,m.useMemo)((function(){return t.map((function(e){return e.pair}))}),[t]),o=(0,tr.__)({subset:s,shouldFetch:!!s,chainId:e}),a=(0,tr.__)({subset:s,block:n,shouldFetch:!!n&&!!s,chainId:e}),l=(0,tr.Fp)({subset:s,shouldFetch:!!s}),d=(0,tr.Te)(),u=(0,tr.M1)(),p=(0,tr.av)(),v=[(0,tr.W)(),(0,tr.Bh)(),(0,tr.ME)(),(0,tr.it)(),(0,tr.Fb)(),(0,tr.e7)(),(0,tr.T6)(),(0,tr.WR)()],x=v[0],f=v[1],h=v[2],g=v[3],y=v[4],j=v[5],w=v[6],_=v[7],C=86400/Number(d);return t.filter((function(e){return o&&o.find((function(r){return r.id===e.pair}))||l&&l.find((function(r){return r.id===e.pair}))})).map((function(n){n.owner=(null===n||void 0===n?void 0:n.owner)||(null===n||void 0===n?void 0:n.masterChef)||(null===n||void 0===n?void 0:n.miniChef),n.balance=(null===n||void 0===n?void 0:n.balance)||(null===n||void 0===n?void 0:n.slpBalance);var t=null===o||void 0===o?void 0:o.find((function(e){return e.id===n.pair})),s=null===a||void 0===a?void 0:a.find((function(e){return e.id===n.pair})),v=null===l||void 0===l?void 0:l.find((function(e){return e.id===n.pair})),m=t||v,R=t?i.FJ.SWAP:i.FJ.KASHI,E=3600/d;var k=function(){var r,t,s=(null===n||void 0===n||null===(r=n.owner)||void 0===r?void 0:r.sushiPerBlock)/1e18||(null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.sushiPerSecond)/1e18*d||p,o=n.allocPoint/n.owner.totalAllocPoint*s,a={token:"SUSHI",icon:"https://raw.githubusercontent.com/sushiswap/logos/main/network/ethereum/0x6B3595068778DD592e39A122f4f5a5cF09C90fE2.jpg",rewardPerBlock:o,rewardPerDay:o*C,rewardPrice:x},l=[a];if(n.chef===i.WJ.MASTERCHEF_V2){n.owner.totalAllocPoint=u,"0x5dd8905aec612529361a35372efd5b127bb182b3"===n.rewarder.rewardToken&&(n.rewarder.rewardToken="0xba8a621b4a54e61c442f5ec623687e2a942225ef",n.rewardToken.symbol="vestedQUARTZ",n.rewardToken.derivedETH=m.token1.derivedETH,n.rewardToken.decimals=18);var v="https://raw.githubusercontent.com/sushiswap/logos/main/network/ethereum/".concat((0,N.getAddress)(n.rewarder.rewardToken),".jpg"),R=Math.pow(10,n.rewardToken.decimals);if("0x0000000000000000000000000000000000000000"!==n.rewarder.rewardToken){var E="ALCX"===n.rewardToken.symbol?n.rewarder.rewardPerSecond/R:"LDO"===n.rewardToken.symbol?77160493827160500/R*d:n.rewarder.rewardPerSecond/R*d,k="ALCX"===n.rewardToken.symbol?n.rewarder.rewardPerSecond/R*C:"LDO"===n.rewardToken.symbol?77160493827160500/R*d*C:n.rewarder.rewardPerSecond/R*d*C,A=n.rewardToken.derivedETH*f,P={token:n.rewardToken.symbol,icon:v,rewardPerBlock:E,rewardPerDay:k,rewardPrice:A};l[1]=P}}else if(n.chef===i.WJ.MINICHEF){var S,I=n.allocPoint/n.miniChef.totalAllocPoint*n.miniChef.sushiPerSecond/1e18*d,U=I*C,O=n.rewarder.rewardPerSecond&&e==b.a_.ARBITRUM?n.rewarder.rewardPerSecond/1e18:n.allocPoint/n.miniChef.totalAllocPoint*n.rewarder.rewardPerSecond/1e18,Z=O*d,T=Z*C,Y=(S={},(0,c.Z)(S,b.a_.MATIC,{token:"MATIC",icon:"https://raw.githubusercontent.com/sushiswap/logos/main/network/matic/0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270.jpg",rewardPerBlock:Z,rewardPerDay:86400*O,rewardPrice:h}),(0,c.Z)(S,b.a_.XDAI,{token:"STAKE",icon:"https://raw.githubusercontent.com/sushiswap/logos/main/network/xdai/0xb7D311E2Eb55F2f68a9440da38e7989210b9A05e.jpg",rewardPerBlock:Z,rewardPerDay:86400*O,rewardPrice:g}),(0,c.Z)(S,b.a_.HARMONY,{token:"ONE",icon:"https://raw.githubusercontent.com/sushiswap/logos/main/network/harmony/0xcF664087a5bB0237a0BAd6742852ec6c8d69A27a.jpg",rewardPerBlock:Z,rewardPerDay:86400*O,rewardPrice:y}),(0,c.Z)(S,b.a_.CELO,{token:"CELO",icon:"https://raw.githubusercontent.com/sushiswap/icons/master/token/celo.jpg",rewardPerBlock:Z,rewardPerDay:86400*O,rewardPrice:w}),(0,c.Z)(S,b.a_.MOONRIVER,{token:"MOVR",icon:"https://raw.githubusercontent.com/sushiswap/icons/master/token/movr.jpg",rewardPerBlock:Z,rewardPerDay:86400*O,rewardPrice:_}),S);l[0]=or(or({},a),{},{rewardPerBlock:I,rewardPerDay:U}),e in Y&&(l[1]=Y[e]),e===b.a_.ARBITRUM&&["9","11"].includes(n.id)&&(l[1]={token:"SPELL",icon:"https://raw.githubusercontent.com/sushiswap/logos/main/network/ethereum/0x090185f2135308BaD17527004364eBcC2D37e5F6.jpg",rewardPerBlock:Z,rewardPerDay:T,rewardPrice:j})}return l}(),A=t?Number(n.balance/1e18):n.balance/Math.pow(10,v.token0.decimals),P=t?A/Number(t.totalSupply)*Number(t.reserveUSD):A*v.token0.derivedETH*f,S=t&&s?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ir;return 100*(Math.pow(1+e/100/r,r)-1)}(.0025*((null===m||void 0===m?void 0:m.volumeUSD)-(null===s||void 0===s?void 0:s.volumeUSD))*365/(null===m||void 0===m?void 0:m.reserveUSD)*100,3650)/100:0,I=S/12,U=I/30,O=U/E,Z=k.reduce((function(e,r){return e+r.rewardPerBlock*r.rewardPrice}),0)/P,T=Z*E,Y=24*T,D=30*Y,B=12*D,F=T+O,M=D+I,q=Y+U,L=B+S,K=r.find((function(e){return e.id===n.id&&e.chef===n.chef}));return or(or(or({},n),K),{},{pair:or(or({},m),{},{decimals:m.type===i.FJ.KASHI?Number(m.asset.tokenInfo.decimals):18,type:R}),balance:A,feeApyPerHour:O,feeApyPerDay:U,feeApyPerMonth:I,feeApyPerYear:S,rewardAprPerHour:T,rewardAprPerDay:Y,rewardAprPerMonth:D,rewardAprPerYear:B,roiPerBlock:Z,roiPerHour:F,roiPerDay:q,roiPerMonth:M,roiPerYear:L,rewards:k,tvl:P})}))}function lr(){var e=(0,s.aQ)().chainId,r=(0,Me.useRouter)(),n=null==r.query.filter?"all":r.query.filter,t=U(e),a={all:function(e){return"0"!==e.allocPoint},portfolio:function(e){return(null===e||void 0===e?void 0:e.amount)&&!e.amount.isZero()},sushi:function(e){return e.pair.type===i.FJ.SWAP&&"0"!==e.allocPoint},kashi:function(e){return e.pair.type===i.FJ.KASHI&&"0"!==e.allocPoint},"2x":function(e){return(e.chef===i.WJ.MASTERCHEF_V2||e.chef===i.WJ.MINICHEF)&&e.rewards.length>1&&"0"!==e.allocPoint}},l=ar().filter((function(e){return!(n in a)||a[n](e)})),d=(0,s.TK)({data:l,options:{keys:["pair.id","pair.token0.symbol","pair.token1.symbol"],threshold:.4}}),c=d.result,u=d.term,v=d.search;return(0,se.jsxs)(o.Z,{id:"farm-page",className:"grid h-full grid-cols-4 py-4 mx-auto md:py-8 lg:py-12 gap-9",maxWidth:"7xl",children:[(0,se.jsxs)(er.default,{children:[(0,se.jsx)("title",{children:"Farm | Sushi"}),(0,se.jsx)("meta",{name:"description",content:"Farm SUSHI"},"description")]}),(0,se.jsx)("div",{className:(0,p.AK)("sticky top-0 hidden lg:block md:col-span-1"),style:{maxHeight:"40rem"},children:(0,se.jsx)(rr,{positionsLength:t.length})}),(0,se.jsxs)("div",{className:(0,p.AK)("space-y-6 col-span-4 lg:col-span-3"),children:[(0,se.jsx)(nr.Z,{search:v,term:u,inputProps:{className:"relative w-full bg-transparent border border-transparent focus:border-gradient-r-blue-pink-dark-900 rounded placeholder-secondary focus:placeholder-primary font-bold text-base px-6 py-3.5"}}),(0,se.jsxs)("div",{className:"flex items-center text-lg font-bold text-high-emphesis whitespace-nowrap",children:["Farms"," ",(0,se.jsx)("div",{className:"w-full h-0 ml-4 font-bold bg-transparent border border-b-0 border-transparent rounded text-high-emphesis md:border-gradient-r-blue-pink-dark-800 opacity-20"})]}),(0,se.jsx)($e,{farms:c,term:u})]})]})}lr.Provider=_e.ZP},84329:function(e,r,n){"use strict";n.d(r,{Te:function(){return t.Te},rL:function(){return t.rL},T6:function(){return t.T6},Bh:function(){return t.Bh},E2:function(){return t.E2},Fp:function(){return t.Fp},av:function(){return t.av},M1:function(){return t.M1},ME:function(){return t.ME},WR:function(){return t.WR},Fb:function(){return t.Fb},e7:function(){return t.e7},it:function(){return t.it},__:function(){return t.__},W:function(){return t.W}});var t=n(79648);n(90156)},26168:function(e,r,n){"use strict";n.d(r,{OY:function(){return f},OA:function(){return h},Qw:function(){return g}});var t=n(86854),i=n(4942),s=n(84772),o=n(30380),a=n(97503),l=n(67294),d=n(25617),c=n(60708),u=n(11178),p=n(98950),v=n(85169),x=n(62603),m=s.QA.BigInt(0);function f(){return(0,d.v9)((function(e){return e.mint}))}function h(e){var r=(0,d.I0)();return{onFieldAInput:(0,l.useCallback)((function(n){r((0,o.LC)({field:o.gN.CURRENCY_A,typedValue:n,noLiquidity:!0===e}))}),[r,e]),onFieldBInput:(0,l.useCallback)((function(n){r((0,o.LC)({field:o.gN.CURRENCY_B,typedValue:n,noLiquidity:!0===e}))}),[r,e])}}function g(e,r){var n,d,h,g,b,N,y=(0,v.mV)().i18n,j=(0,u.a)().account,w=f(),_=w.independentField,C=w.typedValue,R=w.otherTypedValue,E=_===o.gN.CURRENCY_A?o.gN.CURRENCY_B:o.gN.CURRENCY_A,k=(0,l.useMemo)((function(){var n;return n={},(0,i.Z)(n,o.gN.CURRENCY_A,null!==e&&void 0!==e?e:void 0),(0,i.Z)(n,o.gN.CURRENCY_B,null!==r&&void 0!==r?r:void 0),n}),[e,r]),A=(0,a.Oo)(k[o.gN.CURRENCY_A],k[o.gN.CURRENCY_B]),P=(0,t.Z)(A,2),S=P[0],I=P[1],U=(0,x.A)(null===I||void 0===I?void 0:I.liquidityToken),O=S===a._G.NOT_EXISTS||Boolean(U&&s.QA.equal(U.quotient,m))||Boolean(S===a._G.EXISTS&&I&&s.QA.equal(I.reserve0.quotient,m)&&s.QA.equal(I.reserve1.quotient,m)),Z=(0,p.K5)(null!==j&&void 0!==j?j:void 0,[k[o.gN.CURRENCY_A],k[o.gN.CURRENCY_B]]),T=(n={},(0,i.Z)(n,o.gN.CURRENCY_A,Z[0]),(0,i.Z)(n,o.gN.CURRENCY_B,Z[1]),n),Y=(0,c.e)(C,k[_]),D=(0,l.useMemo)((function(){if(O)return R&&k[E]?(0,c.e)(R,k[E]):void 0;if(Y){var n=null===Y||void 0===Y?void 0:Y.wrapped,t=null===e||void 0===e?void 0:e.wrapped,i=null===r||void 0===r?void 0:r.wrapped;if(t&&i&&n&&I){var a=E===o.gN.CURRENCY_B?r:e,l=E===o.gN.CURRENCY_B?I.priceOf(t).quote(n):I.priceOf(i).quote(n);return null!==a&&void 0!==a&&a.isNative?s.ih.fromRawAmount(a,l.quotient):l}}else;}),[O,R,k,E,Y,e,r,I]),B=(0,l.useMemo)((function(){var e;return e={},(0,i.Z)(e,o.gN.CURRENCY_A,_===o.gN.CURRENCY_A?Y:D),(0,i.Z)(e,o.gN.CURRENCY_B,_===o.gN.CURRENCY_A?D:Y),e}),[D,Y,_]),F=(0,l.useMemo)((function(){if(!O){var r=null===e||void 0===e?void 0:e.wrapped;return I&&r?I.priceOf(r):void 0}var n=B[o.gN.CURRENCY_A],t=B[o.gN.CURRENCY_B];if(null!==n&&void 0!==n&&n.greaterThan(0)&&null!==t&&void 0!==t&&t.greaterThan(0)){var i=t.divide(n);return new s.tA(n.currency,t.currency,i.denominator,i.numerator)}}),[e,O,I,B]),M=(0,l.useMemo)((function(){var e=B[o.gN.CURRENCY_A],r=B[o.gN.CURRENCY_B],n=null===e||void 0===e?void 0:e.wrapped,t=null===r||void 0===r?void 0:r.wrapped;if(I&&U&&n&&t)try{return I.getLiquidityMinted(U,n,t)}catch(g){return void console.error(g)}}),[B,I,U]),q=(0,l.useMemo)((function(){return M&&U?new s.gG(M.quotient,U.add(M).quotient):void 0}),[M,U]);(j||(g=y._(y._("Connect Wallet"))),S===a._G.INVALID)&&(g=null!==(b=g)&&void 0!==b?b:y._(y._("Invalid pair")));B[o.gN.CURRENCY_A]&&B[o.gN.CURRENCY_B]||(g=null!==(N=g)&&void 0!==N?N:y._(y._("Enter an amount")));var L,K,H=B[o.gN.CURRENCY_A],V=B[o.gN.CURRENCY_B];H&&null!==T&&void 0!==T&&null!==(d=T[o.gN.CURRENCY_A])&&void 0!==d&&d.lessThan(H)&&(g=y._(y._("Insufficient {0} balance",{0:null===(L=k[o.gN.CURRENCY_A])||void 0===L?void 0:L.symbol})));V&&null!==T&&void 0!==T&&null!==(h=T[o.gN.CURRENCY_B])&&void 0!==h&&h.lessThan(V)&&(g=y._(y._("Insufficient {0} balance",{0:null===(K=k[o.gN.CURRENCY_B])||void 0===K?void 0:K.symbol})));return{dependentField:E,currencies:k,pair:I,pairState:S,currencyBalances:T,parsedAmounts:B,price:F,noLiquidity:O,liquidityMinted:M,poolTokenPercentage:q,error:g}}},99347:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/farm",function(){return n(6579)}])}},function(e){e.O(0,[296,5831,1039,5509,5051,7562,6368,2539,5379,9648,5416,8783,5557,9774,2888,179],(function(){return r=99347,e(e.s=r);var r}));var r=e.O();_N_E=r}]);