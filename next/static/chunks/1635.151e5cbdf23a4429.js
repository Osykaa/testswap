"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1635],{61635:function(e,t,r){r.r(t),r.d(t,{BaseContract:function(){return s.VZ},BigNumber:function(){return c.O$},Contract:function(){return s.CH},ContractFactory:function(){return s.lV},FixedNumber:function(){return a.xs},Signer:function(){return u.E},VoidSigner:function(){return u.b},Wallet:function(){return l.Wallet},Wordlist:function(){return Se.D},constants:function(){return d},errors:function(){return w.ErrorCode},ethers:function(){return i},getDefaultProvider:function(){return Pe},logger:function(){return Xe},providers:function(){return n},utils:function(){return o},version:function(){return ze},wordlists:function(){return Ne.E}});var n={};r.r(n),r.d(n,{AlchemyProvider:function(){return x},AlchemyWebSocketProvider:function(){return O},BaseProvider:function(){return f.Zk},CloudflareProvider:function(){return L},EtherscanProvider:function(){return V},FallbackProvider:function(){return ue},Formatter:function(){return m.Mb},InfuraProvider:function(){return fe},InfuraWebSocketProvider:function(){return pe},IpcProvider:function(){return le},JsonRpcBatchProvider:function(){return ge},JsonRpcProvider:function(){return y.r},JsonRpcSigner:function(){return y.C},NodesmithProvider:function(){return ye},PocketProvider:function(){return be},Provider:function(){return h.zt},Resolver:function(){return f.H2},StaticJsonRpcProvider:function(){return R},UrlJsonRpcProvider:function(){return T},Web3Provider:function(){return ve.Q},WebSocketProvider:function(){return N},getDefaultProvider:function(){return Pe},getNetwork:function(){return p.H},isCommunityResourcable:function(){return m.Ed},isCommunityResource:function(){return m.Gp},showThrottleMessage:function(){return m.vh}});var o={};r.r(o),r.d(o,{AbiCoder:function(){return _e.R},ConstructorFragment:function(){return Re.Xg},ErrorFragment:function(){return Re.IC},EventFragment:function(){return Re.QV},FormatTypes:function(){return Re.pc},Fragment:function(){return Re.HY},FunctionFragment:function(){return Re.YW},HDNode:function(){return je.HDNode},Indexed:function(){return Ie.Hk},Interface:function(){return Ie.vU},LogDescription:function(){return Ie.CC},Logger:function(){return w.Logger},ParamType:function(){return Re._R},RLP:function(){return We},SigningKey:function(){return Je.SigningKey},SupportedAlgorithm:function(){return Ze.p},TransactionDescription:function(){return Ie.vk},TransactionTypes:function(){return j.TransactionTypes},UnicodeNormalizationForm:function(){return Ge.Uj},Utf8ErrorFuncs:function(){return Ge.te},Utf8ErrorReason:function(){return Ge.Uw},_TypedDataEncoder:function(){return Ue.E},_fetchData:function(){return K._fetchData},_toEscapedUtf8String:function(){return Ge.U$},accessListify:function(){return j.accessListify},arrayify:function(){return U.arrayify},base58:function(){return xe.Base58},base64:function(){return Oe},checkProperties:function(){return g.checkProperties},checkResultErrors:function(){return Te.BR},commify:function(){return $e.commify},computeAddress:function(){return j.computeAddress},computeHmac:function(){return qe.Gy},computePublicKey:function(){return Je.computePublicKey},concat:function(){return U.concat},deepCopy:function(){return g.deepCopy},defaultAbiCoder:function(){return _e.$},defaultPath:function(){return je.defaultPath},defineReadOnly:function(){return g.defineReadOnly},entropyToMnemonic:function(){return je.entropyToMnemonic},fetchJson:function(){return K.fetchJson},formatBytes32String:function(){return Ve.s},formatEther:function(){return $e.formatEther},formatUnits:function(){return $e.formatUnits},getAccountPath:function(){return je.getAccountPath},getAddress:function(){return Ae.getAddress},getContractAddress:function(){return Ae.getContractAddress},getCreate2Address:function(){return Ae.getCreate2Address},getIcapAddress:function(){return Ae.getIcapAddress},getJsonWalletAddress:function(){return Ke.Rb},getStatic:function(){return g.getStatic},hashMessage:function(){return Ce.r},hexConcat:function(){return U.hexConcat},hexDataLength:function(){return U.hexDataLength},hexDataSlice:function(){return U.hexDataSlice},hexStripZeros:function(){return U.hexStripZeros},hexValue:function(){return U.hexValue},hexZeroPad:function(){return U.hexZeroPad},hexlify:function(){return U.hexlify},id:function(){return Le.id},isAddress:function(){return Ae.isAddress},isBytes:function(){return U.isBytes},isBytesLike:function(){return U.isBytesLike},isHexString:function(){return U.isHexString},isValidMnemonic:function(){return je.isValidMnemonic},isValidName:function(){return Be.r},joinSignature:function(){return U.joinSignature},keccak256:function(){return De.keccak256},mnemonicToEntropy:function(){return je.mnemonicToEntropy},mnemonicToSeed:function(){return je.mnemonicToSeed},namehash:function(){return Be.V},nameprep:function(){return Me.Ll},parseBytes32String:function(){return Ve.F},parseEther:function(){return $e.parseEther},parseTransaction:function(){return j.parse},parseUnits:function(){return $e.parseUnits},poll:function(){return K.poll},randomBytes:function(){return Fe.O},recoverAddress:function(){return j.recoverAddress},recoverPublicKey:function(){return Je.recoverPublicKey},resolveProperties:function(){return g.resolveProperties},ripemd160:function(){return qe.bP},serializeTransaction:function(){return j.serialize},sha256:function(){return qe.JQ},sha512:function(){return qe.o},shallowCopy:function(){return g.shallowCopy},shuffled:function(){return $.y},solidityKeccak256:function(){return He.keccak256},solidityPack:function(){return He.pack},soliditySha256:function(){return He.sha256},splitSignature:function(){return U.splitSignature},stripZeros:function(){return U.stripZeros},toUtf8Bytes:function(){return Ge.Y0},toUtf8CodePoints:function(){return Ge.XL},toUtf8String:function(){return Ge.ZN},verifyMessage:function(){return l.verifyMessage},verifyTypedData:function(){return l.verifyTypedData},zeroPad:function(){return U.zeroPad}});var i={};r.r(i),r.d(i,{BaseContract:function(){return s.VZ},BigNumber:function(){return c.O$},Contract:function(){return s.CH},ContractFactory:function(){return s.lV},FixedNumber:function(){return a.xs},Signer:function(){return u.E},VoidSigner:function(){return u.b},Wallet:function(){return l.Wallet},Wordlist:function(){return Se.D},constants:function(){return d},errors:function(){return w.ErrorCode},getDefaultProvider:function(){return Pe},logger:function(){return Xe},providers:function(){return n},utils:function(){return o},version:function(){return ze},wordlists:function(){return Ne.E}});var s=r(64146),c=r(2593),a=r(20335),u=r(48088),l=r(79911),d=r(21815),h=r(81556),p=r(45710),f=r(75361),g=r(6881),m=r(30032),y=r(82169),w=r(1581),k=r(34216);let b=null;try{if(b=WebSocket,null==b)throw new Error("inject please")}catch(Ye){const e=new w.Logger(k.i);b=function(){e.throwError("WebSockets not supported in this environment",w.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var v=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{a(n.next(e))}catch(t){i(t)}}function c(e){try{a(n.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}a((n=n.apply(e,t||[])).next())}))};const E=new w.Logger(k.i);let P=1;class N extends y.r{constructor(e,t){"any"===t&&E.throwError("WebSocketProvider does not support 'any' network yet",w.Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),super(e,t),this._pollingInterval=-1,this._wsReady=!1,(0,g.defineReadOnly)(this,"_websocket",new b(this.connection.url)),(0,g.defineReadOnly)(this,"_requests",{}),(0,g.defineReadOnly)(this,"_subs",{}),(0,g.defineReadOnly)(this,"_subIds",{}),(0,g.defineReadOnly)(this,"_detectNetwork",super.detectNetwork()),this._websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach((e=>{this._websocket.send(this._requests[e].payload)}))},this._websocket.onmessage=e=>{const t=e.data,r=JSON.parse(t);if(null!=r.id){const e=String(r.id),n=this._requests[e];if(delete this._requests[e],void 0!==r.result)n.callback(null,r.result),this.emit("debug",{action:"response",request:JSON.parse(n.payload),response:r.result,provider:this});else{let e=null;r.error?(e=new Error(r.error.message||"unknown error"),(0,g.defineReadOnly)(e,"code",r.error.code||null),(0,g.defineReadOnly)(e,"response",t)):e=new Error("unknown error"),n.callback(e,void 0),this.emit("debug",{action:"response",error:e,request:JSON.parse(n.payload),provider:this})}}else if("eth_subscription"===r.method){const e=this._subs[r.params.subscription];e&&e.processFunc(r.params.result)}else console.warn("this should not happen")};const r=setInterval((()=>{this.emit("poll")}),1e3);r.unref&&r.unref()}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){E.throwError("cannot reset events block on WebSocketProvider",w.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){E.throwError("cannot set polling interval on WebSocketProvider",w.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return v(this,void 0,void 0,(function*(){return null}))}set polling(e){e&&E.throwError("cannot set polling on WebSocketProvider",w.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const r=P++;return new Promise(((n,o)=>{const i=JSON.stringify({method:e,params:t,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(i),provider:this}),this._requests[String(r)]={callback:function(e,t){return e?o(e):n(t)},payload:i},this._wsReady&&this._websocket.send(i)}))}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,r){return v(this,void 0,void 0,(function*(){let n=this._subIds[e];null==n&&(n=Promise.all(t).then((e=>this.send("eth_subscribe",e))),this._subIds[e]=n);const o=yield n;this._subs[o]={tag:e,processFunc:r}}))}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],(e=>{const t=c.O$.from(e.number).toNumber();this._emitted.block=t,this.emit("block",t)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(e=>{this.emit("pending",e)}));break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],(t=>{null==t.removed&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))}));break;case"tx":{const t=e=>{const t=e.hash;this.getTransactionReceipt(t).then((e=>{e&&this.emit(t,e)}))};t(e),this._subscribe("tx",["newHeads"],(e=>{this._events.filter((e=>"tx"===e.type)).forEach(t)}));break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}}_stopEvent(e){let t=e.tag;if("tx"===e.type){if(this._events.filter((e=>"tx"===e.type)).length)return;t="tx"}else if(this.listenerCount(e.event))return;const r=this._subIds[t];r&&(delete this._subIds[t],r.then((e=>{this._subs[e]&&(delete this._subs[e],this.send("eth_unsubscribe",[e]))})))}destroy(){return v(this,void 0,void 0,(function*(){this._websocket.readyState===b.CONNECTING&&(yield new Promise((e=>{this._websocket.onopen=function(){e(!0)},this._websocket.onerror=function(){e(!1)}}))),this._websocket.close(1e3)}))}}var S=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{a(n.next(e))}catch(t){i(t)}}function c(e){try{a(n.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}a((n=n.apply(e,t||[])).next())}))};const _=new w.Logger(k.i);class R extends y.r{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return S(this,void 0,void 0,(function*(){let t=this.network;return null==t&&(t=yield e.detectNetwork.call(this),t||_.throwError("no network detected",w.Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&((0,g.defineReadOnly)(this,"_network",t),this.emit("network",t,null))),t}))}}class T extends R{constructor(e,t){_.checkAbstract(new.target,T),e=(0,g.getStatic)(new.target,"getNetwork")(e),t=(0,g.getStatic)(new.target,"getApiKey")(t);super((0,g.getStatic)(new.target,"getUrl")(e,t),e),"string"===typeof t?(0,g.defineReadOnly)(this,"apiKey",t):null!=t&&Object.keys(t).forEach((e=>{(0,g.defineReadOnly)(this,e,t[e])}))}_startPending(){_.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return _.throwError("API provider does not support signing",w.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return _.throwError("not implemented; sub-classes must override getUrl",w.Logger.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const I=new w.Logger(k.i),A="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class O extends N{constructor(e,t){const r=new x(e,t);super(r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi."),r.network),(0,g.defineReadOnly)(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===A}}class x extends T{static getWebSocketProvider(e,t){return new O(e,t)}static getApiKey(e){return null==e?A:(e&&"string"!==typeof e&&I.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":r="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":r="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.alchemyapi.io/v2/";break;case"kovan":r="eth-kovan.alchemyapi.io/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;default:I.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+t,throttleCallback:(e,r)=>(t===A&&(0,m.vh)(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===A}}var C=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{a(n.next(e))}catch(t){i(t)}}function c(e){try{a(n.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}a((n=n.apply(e,t||[])).next())}))};const B=new w.Logger(k.i);class L extends T{static getApiKey(e){return null!=e&&B.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="https://cloudflare-eth.com/";break;default:B.throwArgumentError("unsupported network","network",arguments[0])}return r}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return C(this,void 0,void 0,(function*(){if("getBlockNumber"===e){return(yield r.perform.call(this,"getBlock",{blockTag:"latest"})).number}return r.perform.call(this,e,t)}))}}var U=r(16441),j=r(83875),K=r(37707),D=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{a(n.next(e))}catch(t){i(t)}}function c(e){try{a(n.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}a((n=n.apply(e,t||[])).next())}))};const q=new w.Logger(k.i);function H(e){const t={};for(let r in e){if(null==e[r])continue;let n=e[r];"type"===r&&0===n||(n={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?(0,U.hexValue)((0,U.hexlify)(n)):"accessList"===r?"["+(0,j.accessListify)(n).map((e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`)).join(",")+"]":(0,U.hexlify)(n),t[r]=n)}return t}function F(e){if(0==e.status&&("No records found"===e.message||"No transactions found"===e.message))return e.result;if(1!=e.status||"OK"!=e.message){const t=new Error("invalid response");throw t.result=JSON.stringify(e),(e.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return e.result}function W(e){if(e&&0==e.status&&"NOTOK"==e.message&&(e.result||"").toLowerCase().indexOf("rate limit")>=0){const t=new Error("throttled response");throw t.result=JSON.stringify(e),t.throttleRetry=!0,t}if("2.0"!=e.jsonrpc){const t=new Error("invalid response");throw t.result=JSON.stringify(e),t}if(e.error){const t=new Error(e.error.message||"unknown error");throw e.error.code&&(t.code=e.error.code),e.error.data&&(t.data=e.error.data),t}return e.result}function J(e){if("pending"===e)throw new Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}const M="9D13ZE7XSBTJ94N9BNJ2MA33VMAY2YPIRB";function G(e,t,r){if("call"===e&&t.code===w.Logger.errors.SERVER_ERROR){const e=t.error;if(e&&(e.message.match(/reverted/i)||e.message.match(/VM execution error/i))){let r=e.data;if(r&&(r="0x"+r.replace(/^.*0x/i,"")),(0,U.isHexString)(r))return r;q.throwError("missing revert data in call exception",w.Logger.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}let n=t.message;throw t.code===w.Logger.errors.SERVER_ERROR&&(t.error&&"string"===typeof t.error.message?n=t.error.message:"string"===typeof t.body?n=t.body:"string"===typeof t.responseText&&(n=t.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&q.throwError("insufficient funds for intrinsic transaction cost",w.Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&q.throwError("nonce has already been used",w.Logger.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r}),n.match(/another transaction with same nonce/)&&q.throwError("replacement fee too low",w.Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r}),n.match(/execution failed due to an exception|execution reverted/)&&q.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",w.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r}),t}class V extends f.Zk{constructor(e,t){q.checkNew(new.target,V),super(e),(0,g.defineReadOnly)(this,"baseUrl",this.getBaseUrl()),(0,g.defineReadOnly)(this,"apiKey",t||M)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"ropsten":return"https://api-ropsten.etherscan.io";case"rinkeby":return"https://api-rinkeby.etherscan.io";case"kovan":return"https://api-kovan.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io"}return q.throwArgumentError("unsupported network","network",name)}getUrl(e,t){const r=Object.keys(t).reduce(((e,r)=>{const n=t[r];return null!=n&&(e+=`&${r}=${n}`),e}),""),n=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${r}${n}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,r){return D(this,void 0,void 0,(function*(){const n=r?this.getPostUrl():this.getUrl(e,t),o=r?this.getPostData(e,t):null,i="proxy"===e?W:F;this.emit("debug",{action:"request",request:n,provider:this});const s={url:n,throttleSlotInterval:1e3,throttleCallback:(e,t)=>(this.isCommunityResource()&&(0,m.vh)(),Promise.resolve(!0))};let c=null;o&&(s.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},c=Object.keys(o).map((e=>`${e}=${o[e]}`)).join("&"));const a=yield(0,K.fetchJson)(s,c,i||W);return this.emit("debug",{action:"response",request:n,response:(0,g.deepCopy)(a),provider:this}),a}))}detectNetwork(){return D(this,void 0,void 0,(function*(){return this.network}))}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return D(this,void 0,void 0,(function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch((e=>G("sendTransaction",e,t.signedTransaction)));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if("latest"!==t.blockTag)throw new Error("EtherscanProvider does not support blockTag for call");const e=H(t.transaction);e.module="proxy",e.action="eth_call";try{return yield this.fetch("proxy",e,!0)}catch(Ye){return G("call",Ye,t.transaction)}}case"estimateGas":{const e=H(t.transaction);e.module="proxy",e.action="eth_estimateGas";try{return yield this.fetch("proxy",e,!0)}catch(Ye){return G("estimateGas",Ye,t.transaction)}}case"getLogs":{const e={action:"getLogs"};if(t.filter.fromBlock&&(e.fromBlock=J(t.filter.fromBlock)),t.filter.toBlock&&(e.toBlock=J(t.filter.toBlock)),t.filter.address&&(e.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&q.throwError("unsupported topic count",w.Logger.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),1===t.filter.topics.length)){const r=t.filter.topics[0];"string"===typeof r&&66===r.length||q.throwError("unsupported topic format",w.Logger.errors.UNSUPPORTED_OPERATION,{topic0:r}),e.topic0=r}const r=yield this.fetch("logs",e);let n={};for(let t=0;t<r.length;t++){const e=r[t];if(null==e.blockHash){if(null==n[e.blockNumber]){const t=yield this.getBlock(e.blockNumber);t&&(n[e.blockNumber]=t.hash)}e.blockHash=n[e.blockNumber]}}return r}case"getEtherPrice":return"homestead"!==this.network.name?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return r.perform.call(this,e,t)}))}getHistory(e,t,r){return D(this,void 0,void 0,(function*(){const n={action:"txlist",address:yield this.resolveName(e),startblock:null==t?0:t,endblock:null==r?99999999:r,sort:"asc"};return(yield this.fetch("account",n)).map((e=>{["contractAddress","to"].forEach((function(t){""==e[t]&&delete e[t]})),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress);const t=this.formatter.transactionResponse(e);return e.timeStamp&&(t.timestamp=parseInt(e.timeStamp)),t}))}))}isCommunityResource(){return this.apiKey===M}}var $=r(52472),Z=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{a(n.next(e))}catch(t){i(t)}}function c(e){try{a(n.throw(e))}catch(t){i(t)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,c)}a((n=n.apply(e,t||[])).next())}))};const z=new w.Logger(k.i);function X(){return(new Date).getTime()}function Y(e){let t=null;for(let r=0;r<e.length;r++){const n=e[r];if(null==n)return null;t?t.name===n.name&&t.chainId===n.chainId&&(t.ensAddress===n.ensAddress||null==t.ensAddress&&null==n.ensAddress)||z.throwArgumentError("provider mismatch","networks",e):t=n}return t}function Q(e,t){e=e.slice().sort();const r=Math.floor(e.length/2);if(e.length%2)return e[r];const n=e[r-1],o=e[r];return null!=t&&Math.abs(n-o)>t?null:(n+o)/2}function ee(e){if(null===e)return"null";if("number"===typeof e||"boolean"===typeof e)return JSON.stringify(e);if("string"===typeof e)return e;if(c.O$.isBigNumber(e))return e.toString();if(Array.isArray(e))return JSON.stringify(e.map((e=>ee(e))));if("object"===typeof e){const t=Object.keys(e);return t.sort(),"{"+t.map((t=>{let r=e[t];return r="function"===typeof r?"[function]":ee(r),JSON.stringify(t)+":"+r})).join(",")+"}"}throw new Error("unknown value type: "+typeof e)}let te=1;function re(e){let t=null,r=null,n=new Promise((n=>{t=function(){r&&(clearTimeout(r),r=null),n()},r=setTimeout(t,e)}));return{cancel:t,getPromise:function(){return n},wait:e=>(n=n.then(e),n)}}const ne=[w.Logger.errors.CALL_EXCEPTION,w.Logger.errors.INSUFFICIENT_FUNDS,w.Logger.errors.NONCE_EXPIRED,w.Logger.errors.REPLACEMENT_UNDERPRICED,w.Logger.errors.UNPREDICTABLE_GAS_LIMIT],oe=["address","args","errorArgs","errorSignature","method","transaction"];function ie(e,t){const r={weight:e.weight};return Object.defineProperty(r,"provider",{get:()=>e.provider}),e.start&&(r.start=e.start),t&&(r.duration=t-e.start),e.done&&(e.error?r.error=e.error:r.result=e.result||null),r}function se(e,t,r){let n=ee;switch(t){case"getBlockNumber":return function(t){const r=t.map((e=>e.result));let n=Q(t.map((e=>e.result)),2);if(null!=n)return n=Math.ceil(n),r.indexOf(n+1)>=0&&n++,n>=e._highestBlockNumber&&(e._highestBlockNumber=n),e._highestBlockNumber};case"getGasPrice":return function(e){const t=e.map((e=>e.result));return t.sort(),t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return Q(e.map((e=>e.result)))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(e){return null==e?null:((e=(0,g.shallowCopy)(e)).confirmations=-1,ee(e))};break;case"getBlock":n=r.includeTransactions?function(e){return null==e?null:((e=(0,g.shallowCopy)(e)).transactions=e.transactions.map((e=>((e=(0,g.shallowCopy)(e)).confirmations=-1,e))),ee(e))}:function(e){return null==e?null:ee(e)};break;default:throw new Error("unknown method: "+t)}return function(e,t){return function(r){const n={};r.forEach((t=>{const r=e(t.result);n[r]||(n[r]={count:0,result:t.result}),n[r].count++}));const o=Object.keys(n);for(let e=0;e<o.length;e++){const r=n[o[e]];if(r.count>=t)return r.result}}}(n,e.quorum)}function ce(e,t){return Z(this,void 0,void 0,(function*(){const r=e.provider;return null!=r.blockNumber&&r.blockNumber>=t||-1===t?r:(0,K.poll)((()=>new Promise(((n,o)=>{setTimeout((function(){return r.blockNumber>=t?n(r):e.cancelled?n(null):n(void 0)}),0)}))),{oncePoll:r})}))}function ae(e,t,r,n){return Z(this,void 0,void 0,(function*(){let o=e.provider;switch(r){case"getBlockNumber":case"getGasPrice":return o[r]();case"getEtherPrice":if(o.getEtherPrice)return o.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&(0,U.isHexString)(n.blockTag)&&(o=yield ce(e,t)),o[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&(0,U.isHexString)(n.blockTag)&&(o=yield ce(e,t)),o.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&(0,U.isHexString)(n.blockTag)&&(o=yield ce(e,t)),o[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&(0,U.isHexString)(n.blockTag)&&(o=yield ce(e,t)),o[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return o[r](n.transactionHash);case"getLogs":{let r=n.filter;return(r.fromBlock&&(0,U.isHexString)(r.fromBlock)||r.toBlock&&(0,U.isHexString)(r.toBlock))&&(o=yield ce(e,t)),o.getLogs(r)}}return z.throwError("unknown method error",w.Logger.errors.UNKNOWN_ERROR,{method:r,params:n})}))}class ue extends f.Zk{constructor(e,t){z.checkNew(new.target,ue),0===e.length&&z.throwArgumentError("missing providers","providers",e);const r=e.map(((e,t)=>{if(h.zt.isProvider(e)){const t=(0,m.Gp)(e)?2e3:750,r=1;return Object.freeze({provider:e,weight:1,stallTimeout:t,priority:r})}const r=(0,g.shallowCopy)(e);null==r.priority&&(r.priority=1),null==r.stallTimeout&&(r.stallTimeout=(0,m.Gp)(e)?2e3:750),null==r.weight&&(r.weight=1);const n=r.weight;return(n%1||n>512||n<1)&&z.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${t}].weight`,n),Object.freeze(r)})),n=r.reduce(((e,t)=>e+t.weight),0);null==t?t=n/2:t>n&&z.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let o=Y(r.map((e=>e.provider.network)));null==o&&(o=new Promise(((e,t)=>{setTimeout((()=>{this.detectNetwork().then(e,t)}),0)}))),super(o),(0,g.defineReadOnly)(this,"providerConfigs",Object.freeze(r)),(0,g.defineReadOnly)(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return Z(this,void 0,void 0,(function*(){return Y(yield Promise.all(this.providerConfigs.map((e=>e.provider.getNetwork()))))}))}perform(e,t){return Z(this,void 0,void 0,(function*(){if("sendTransaction"===e){const e=yield Promise.all(this.providerConfigs.map((e=>e.provider.sendTransaction(t.signedTransaction).then((e=>e.hash),(e=>e)))));for(let t=0;t<e.length;t++){const r=e[t];if("string"===typeof r)return r}throw e[0]}-1===this._highestBlockNumber&&"getBlockNumber"!==e&&(yield this.getBlockNumber());const r=se(this,e,t),n=(0,$.y)(this.providerConfigs.map(g.shallowCopy));n.sort(((e,t)=>e.priority-t.priority));const o=this._highestBlockNumber;let i=0,s=!0;for(;;){const c=X();let a=n.filter((e=>e.runner&&c-e.start<e.stallTimeout)).reduce(((e,t)=>e+t.weight),0);for(;a<this.quorum&&i<n.length;){const r=n[i++],s=te++;r.start=X(),r.staller=re(r.stallTimeout),r.staller.wait((()=>{r.staller=null})),r.runner=ae(r,o,e,t).then((n=>{r.done=!0,r.result=n,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:ie(r,X()),request:{method:e,params:(0,g.deepCopy)(t)},provider:this})}),(n=>{r.done=!0,r.error=n,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:ie(r,X()),request:{method:e,params:(0,g.deepCopy)(t)},provider:this})})),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:ie(r,null),request:{method:e,params:(0,g.deepCopy)(t)},provider:this}),a+=r.weight}const u=[];n.forEach((e=>{!e.done&&e.runner&&(u.push(e.runner),e.staller&&u.push(e.staller.getPromise()))})),u.length&&(yield Promise.race(u));const l=n.filter((e=>e.done&&null==e.error));if(l.length>=this.quorum){const e=r(l);if(void 0!==e)return n.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0})),e;s||(yield re(100).getPromise()),s=!1}const d=n.reduce(((e,t)=>{if(!t.done||null==t.error)return e;const r=t.error.code;return ne.indexOf(r)>=0&&(e[r]||(e[r]={error:t.error,weight:0}),e[r].weight+=t.weight),e}),{});if(Object.keys(d).forEach((e=>{const t=d[e];if(t.weight<this.quorum)return;n.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}));const r=t.error,o={};oe.forEach((e=>{null!=r[e]&&(o[e]=r[e])})),z.throwError(r.reason||r.message,e,o)})),0===n.filter((e=>!e.done)).length)break}return n.forEach((e=>{e.staller&&e.staller.cancel(),e.cancelled=!0})),z.throwError("failed to meet quorum",w.Logger.errors.SERVER_ERROR,{method:e,params:t,results:n.map((e=>ie(e))),provider:this})}))}}const le=null,de=new w.Logger(k.i),he="84842078b09946638c03157f83405213";class pe extends N{constructor(e,t){const r=new fe(e,t),n=r.connection;n.password&&de.throwError("INFURA WebSocket project secrets unsupported",w.Logger.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});super(n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),e),(0,g.defineReadOnly)(this,"apiKey",r.projectId),(0,g.defineReadOnly)(this,"projectId",r.projectId),(0,g.defineReadOnly)(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===he}}class fe extends T{static getWebSocketProvider(e,t){return new pe(e,t)}static getApiKey(e){const t={apiKey:he,projectId:he,projectSecret:null};return null==e||("string"===typeof e?t.projectId=e:null!=e.projectSecret?(de.assertArgument("string"===typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),de.assertArgument("string"===typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"ropsten":r="ropsten.infura.io";break;case"rinkeby":r="rinkeby.infura.io";break;case"kovan":r="kovan.infura.io";break;case"goerli":r="goerli.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;default:de.throwError("unsupported network",w.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const n={allowGzip:!0,url:"https://"+r+"/v3/"+t.projectId,throttleCallback:(e,r)=>(t.projectId===he&&(0,m.vh)(),Promise.resolve(!0))};return null!=t.projectSecret&&(n.user="",n.password=t.projectSecret),n}isCommunityResource(){return this.projectId===he}}class ge extends y.r{send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);const n={request:r,resolve:null,reject:null},o=new Promise(((e,t)=>{n.resolve=e,n.reject=t}));return this._pendingBatch.push(n),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout((()=>{const e=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const t=e.map((e=>e.request));return this.emit("debug",{action:"requestBatch",request:(0,g.deepCopy)(t),provider:this}),(0,K.fetchJson)(this.connection,JSON.stringify(t)).then((r=>{this.emit("debug",{action:"response",request:t,response:r,provider:this}),e.forEach(((e,t)=>{const n=r[t];if(n.error){const t=new Error(n.error.message);t.code=n.error.code,t.data=n.error.data,e.reject(t)}else e.resolve(n.result)}))}),(r=>{this.emit("debug",{action:"response",error:r,request:t,provider:this}),e.forEach((e=>{e.reject(r)}))}))}),10)),o}}const me=new w.Logger(k.i);class ye extends T{static getApiKey(e){return e&&"string"!==typeof e&&me.throwArgumentError("invalid apiKey","apiKey",e),e||"ETHERS_JS_SHARED"}static getUrl(e,t){me.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:me.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t}}const we=new w.Logger(k.i),ke={homestead:"6004bcd10040261633ade990",ropsten:"6004bd4d0040261633ade991",rinkeby:"6004bda20040261633ade994",goerli:"6004bd860040261633ade992"};class be extends T{constructor(e,t){if(null==t){const r=(0,g.getStatic)(new.target,"getNetwork")(e);if(r){const e=ke[r.name];e&&(t={applicationId:e,loadBalancer:!0})}null==t&&we.throwError("unsupported network",w.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}super(e,t)}static getApiKey(e){null==e&&we.throwArgumentError("PocketProvider.getApiKey does not support null apiKey","apiKey",e);const t={applicationId:null,loadBalancer:!1,applicationSecretKey:null};return"string"===typeof e?t.applicationId=e:null!=e.applicationSecretKey?(we.assertArgument("string"===typeof e.applicationId,"applicationSecretKey requires an applicationId","applicationId",e.applicationId),we.assertArgument("string"===typeof e.applicationSecretKey,"invalid applicationSecretKey","applicationSecretKey","[REDACTED]"),t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey,t.loadBalancer=!!e.loadBalancer):e.applicationId?(we.assertArgument("string"===typeof e.applicationId,"apiKey.applicationId must be a string","apiKey.applicationId",e.applicationId),t.applicationId=e.applicationId,t.loadBalancer=!!e.loadBalancer):we.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"goerli":r="eth-goerli.gateway.pokt.network";break;default:we.throwError("unsupported network",w.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}let n=null;n=t.loadBalancer?`https://${r}/v1/lb/${t.applicationId}`:`https://${r}/v1/${t.applicationId}`;const o={url:n,headers:{}};return null!=t.applicationSecretKey&&(o.user="",o.password=t.applicationSecretKey),o}isCommunityResource(){return this.applicationId===ke[this.network.name]}}var ve=r(241);const Ee=new w.Logger(k.i);function Pe(e,t){if(null==e&&(e="homestead"),"string"===typeof e){const t=e.match(/^(ws|http)s?:/i);if(t)switch(t[1]){case"http":return new y.r(e);case"ws":return new N(e);default:Ee.throwArgumentError("unsupported URL scheme","network",e)}}const r=(0,p.H)(e);return r&&r._defaultProvider||Ee.throwError("unsupported getDefaultProvider network",w.Logger.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),r._defaultProvider({FallbackProvider:ue,AlchemyProvider:x,CloudflareProvider:L,EtherscanProvider:V,InfuraProvider:fe,JsonRpcProvider:y.r,NodesmithProvider:ye,PocketProvider:be,Web3Provider:ve.Q,IpcProvider:le},t)}var Ne=r(10234),Se=r(48812),_e=r(84243),Re=r(11388),Te=r(61184),Ie=r(8198),Ae=r(19485),Oe=r(4089),xe=r(57727),Ce=r(93684),Be=r(84706),Le=r(32046),Ue=r(67827),je=r(84178),Ke=r(67949),De=r(38197),qe=r(2006),He=r(31886),Fe=r(5634),We=r(59052),Je=r(67669),Me=r(35637),Ge=r(29251),Ve=r(86237),$e=r(61744),Ze=r(21261);const ze="ethers/5.5.1",Xe=new w.Logger(ze);try{const e=window;null==e._ethers&&(e._ethers=i)}catch(Ye){}}}]);